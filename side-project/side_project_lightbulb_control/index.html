<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="
  side_project_lightbulb_control
  #


  tags: Side Project Arduino
  #

:::spoiler
[TOC]
:::

  Project Purpose
  #


In order to deal with the inconvenient experiment on lightbulb of bathroom, I decided to write some code and implent the circuit. Specifically speaking about the inconvenient, I wish exhaust fan in bathroom can always work without switch control it. But unfortunately, it has connected with lightbulb circuit at the beginning, and the circuit hided in the wall that I can&rsquo;t change the circuit directly.
The original circuit diagram is as the bottom left and the revised circuit diagram v1 is as the bottom right



  Arduino Circuit Diagram
  #



Version 1
"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://bernie6401.github.io/side-project/side_project_lightbulb_control/"><meta property="og:site_name" content="SBK Hugo Site"><meta property="og:title" content="side_project_lightbulb_control"><meta property="og:description" content="side_project_lightbulb_control # tags: Side Project Arduino # :::spoiler [TOC] :::
Project Purpose # In order to deal with the inconvenient experiment on lightbulb of bathroom, I decided to write some code and implent the circuit. Specifically speaking about the inconvenient, I wish exhaust fan in bathroom can always work without switch control it. But unfortunately, it has connected with lightbulb circuit at the beginning, and the circuit hided in the wall that I can’t change the circuit directly. The original circuit diagram is as the bottom left and the revised circuit diagram v1 is as the bottom right Arduino Circuit Diagram # Version 1"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="side-project"><meta property="article:tag" content="Side Project"><title>side_project_lightbulb_control | SBK Hugo Site</title>
<link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=https://bernie6401.github.io/side-project/side_project_lightbulb_control/><link rel=stylesheet href=/book.min.6c8b9d2a1fc95075ed7da46ca81060b39add8fff6741ac51259f768929281e2c.css integrity="sha256-bIudKh/JUHXtfaRsqBBgs5rdj/9nQaxRJZ92iSkoHiw=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.acdc41c8d39e6c69d70d8a23779875e0a3733fefead3e428d5344966bb12f562.js integrity="sha256-rNxByNOebGnXDYojd5h14KNzP+/q0+Qo1TRJZrsS9WI=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>SBK Hugo Site</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>side_project_lightbulb_control</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li></li></ul></li><li><a href=#project-purpose>Project Purpose</a></li><li><a href=#arduino-circuit-diagram>Arduino Circuit Diagram</a></li><li><a href=#reference>Reference</a></li><li><a href=#recently-page-for-ver2>Recently Page for Ver.2</a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=side_project_lightbulb_control>side_project_lightbulb_control
<a class=anchor href=#side_project_lightbulb_control>#</a></h1><h6 id=tags-side-project-arduino>tags: <code>Side Project</code> <code>Arduino</code>
<a class=anchor href=#tags-side-project-arduino>#</a></h6><p>:::spoiler
[TOC]
:::</p><h2 id=project-purpose>Project Purpose
<a class=anchor href=#project-purpose>#</a></h2><ul><li>In order to deal with the inconvenient experiment on lightbulb of bathroom, I decided to write some code and implent the circuit. Specifically speaking about the inconvenient, I wish exhaust fan in bathroom can always work without switch control it. But unfortunately, it has connected with lightbulb circuit at the beginning, and the circuit hided in the wall that I can&rsquo;t change the circuit directly.</li><li>The original circuit diagram is as the bottom left and the revised circuit diagram v1 is as the bottom right
<img src=./img/origin_circuit.png alt=origin_circuit style=zoom:50%><img src=./img/rev_v1_circuit.png alt=rev_v1_circuit style=zoom:50%></li></ul><h2 id=arduino-circuit-diagram>Arduino Circuit Diagram
<a class=anchor href=#arduino-circuit-diagram>#</a></h2><ul><li><p>Version 1
<img src=./img/arduino_circuit_diagram.png alt=arduino_circuit_diagram></p><ul><li>As the circuit above, when IR remote sensor received <em>any</em> infrared, it&rsquo;ll illuminate LED just like a demo that it connects with an actual lightbulb.</li><li>Cons:<ol><li>It must carry a mobile charger. And like I said, the circuit of the lightbulb hides in the wall, so the volume is too big to hide on the roof.</li><li>The portable charger must replace regularly and that is much more inconvenient.</li><li>Using IR remote sensor to control is not intuitive. When you&rsquo;d like to turn on a lightbulb, you must find a remote controller first? That is not good obviously.</li></ol></li></ul></li><li><p>Version 2
<img src=./img/rev_v2_circuit.png alt=rev_v2_circuit></p><ul><li>How does it work?<ul><li>I used two WIFI models (Node MCU CP2102) to control the lightbulb and switch that we pressed.</li><li>If I turn on the switch, the CP2102 WIFI model will send a signal to WIFI AP and WIFI AP will resend it to another CP2102 hidden in the roof to illuminate the lightbulb.</li></ul></li><li>Pros<ol><li>It solved the portable charger that will make the volume too big to hide. I just use a useful plug as a transformer to output 5V DC and supply to the WIFI model.</li><li>We don&rsquo;t need to replace the charger because I just use an endless power(though I know it&rsquo;s not a real endless) connect to AC 110 V directly.</li><li>I used a simple switch to demo our habit instead of using an IR remote. I make it more convenient.</li></ol></li></ul></li></ul><h2 id=reference>Reference
<a class=anchor href=#reference>#</a></h2><ul><li><a href=http://a-chien.blogspot.com/2016/07/arduino_7.html>Relay1</a></li><li><a href=https://blog.jmaker.com.tw/arduino-relay/>Relay2</a></li><li><a href=https://crazymaker.com.tw/arduino-how-to-use-relay/>Relay3</a></li><li><a href="https://www.youtube.com/watch?v=8ULB8-CvbbE">Relay4</a></li><li><a href=https://blog.xuite.net/aminyeh0825/blog/589725602#>IRRemote1</a></li><li><a href="https://www.youtube.com/watch?v=5bfJTu5tekY&amp;t=663s">IRRemote2</a></li><li><a href="https://www.youtube.com/watch?v=q-14MtNWltg">WIFI1</a></li><li><a href="https://blog.hoyo.idv.tw/?p=4403">WIFI2</a></li><li>[NodeMCU腳位](<a href=http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/esp8266-nodemcu-tutorial-index/nodemcu-board/>http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/esp8266-nodemcu-tutorial-index/nodemcu-board/</a></li></ul><hr><h2 id=recently-page-for-ver2>Recently Page for Ver.2
<a class=anchor href=#recently-page-for-ver2>#</a></h2><ul><li><a href=https://lolwarden.pixnet.net/blog/post/82031214-%2A%E6%95%99%E5%AD%B8%2Aarduino-wifi%28esp8266%29-%E5%88%9D%E6%AC%A1%E4%B8%8A%E6%89%8B%E6%87%89%E7%94%A8>1</a></li><li><a href=https://lolwarden.pixnet.net/blog/post/82060758>2</a></li><li><a href=https://ithelp.ithome.com.tw/articles/10240199>3</a></li><li><a href=https://www.chosemaker.com/board/esp32/lesson-3/>4</a></li><li><a href=https://honeststore.com.tw/esp8266-wifi-between-client-server/>Very Important</a></li><li></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li></li></ul></li><li><a href=#project-purpose>Project Purpose</a></li><li><a href=#arduino-circuit-diagram>Arduino Circuit Diagram</a></li><li><a href=#reference>Reference</a></li><li><a href=#recently-page-for-ver2>Recently Page for Ver.2</a></li></ul></nav></div></aside></main></body></html>