<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content='
  How to build apk file on React-Native Project?
  #


  1. 確保已完成的環境設置
  #


  必備工具：
  #


安裝 Node.js.
安裝 Java JDK (推薦 11 或更高版本)。
安裝 Android Studio 並設置環境變量：

配置 ANDROID_HOME 環境變量，指向你的 Android SDK 安裝路徑。
將以下路徑添加到 PATH：
$ANDROID_HOME/tools
$ANDROID_HOME/tools/bin
$ANDROID_HOME/platform-tools



使用以下命令確認 Android SDK 設置正確：
adb --version




  2. 檢查 React Native 項目配置
  #

在項目中，確保以下內容已經配置：

  文件 android/app/build.gradle
  #

確認 minSdkVersion 和 targetSdkVersion 值符合要求，例如：
android {
    defaultConfig {
        applicationId "com.example.myapp" // 替換為你的包名
        minSdkVersion 21
        targetSdkVersion 33
    }
}

  文件 android/gradle.properties
  #

啟用 ProGuard 和 Hermes 以優化 APK：'><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://bernie6401.github.io/problem-solutions/how-to-build-apk-file-on-react-native-project_/"><meta property="og:site_name" content="SBK Hugo Site"><meta property="og:title" content="How to build apk file on React-Native Project?"><meta property="og:description" content='How to build apk file on React-Native Project? # 1. 確保已完成的環境設置 # 必備工具： # 安裝 Node.js. 安裝 Java JDK (推薦 11 或更高版本)。 安裝 Android Studio 並設置環境變量： 配置 ANDROID_HOME 環境變量，指向你的 Android SDK 安裝路徑。 將以下路徑添加到 PATH： $ANDROID_HOME/tools $ANDROID_HOME/tools/bin $ANDROID_HOME/platform-tools 使用以下命令確認 Android SDK 設置正確： adb --version 2. 檢查 React Native 項目配置 # 在項目中，確保以下內容已經配置：
文件 android/app/build.gradle # 確認 minSdkVersion 和 targetSdkVersion 值符合要求，例如：
android { defaultConfig { applicationId "com.example.myapp" // 替換為你的包名 minSdkVersion 21 targetSdkVersion 33 } } 文件 android/gradle.properties # 啟用 ProGuard 和 Hermes 以優化 APK：'><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="problem-solutions"><meta property="article:tag" content="Problem Solution"><title>How to build apk file on React-Native Project? | SBK Hugo Site</title>
<link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=https://bernie6401.github.io/problem-solutions/how-to-build-apk-file-on-react-native-project_/><link rel=stylesheet href=/book.min.6c8b9d2a1fc95075ed7da46ca81060b39add8fff6741ac51259f768929281e2c.css integrity="sha256-bIudKh/JUHXtfaRsqBBgs5rdj/9nQaxRJZ92iSkoHiw=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.acdc41c8d39e6c69d70d8a23779875e0a3733fefead3e428d5344966bb12f562.js integrity="sha256-rNxByNOebGnXDYojd5h14KNzP+/q0+Qo1TRJZrsS9WI=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>SBK Hugo Site</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>How to build apk file on React-Native Project?</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#1-確保已完成的環境設置><strong>1. 確保已完成的環境設置</strong></a><ul><li><a href=#必備工具>必備工具：</a></li></ul></li><li><a href=#2-檢查-react-native-項目配置><strong>2. 檢查 React Native 項目配置</strong></a><ul><li><a href=#文件><strong>文件 <code>android/app/build.gradle</code></strong></a></li><li><a href=#文件-1><strong>文件 <code>android/gradle.properties</code></strong></a></li><li><a href=#文件-2><strong>文件 <code>android/app/src/main/AndroidManifest.xml</code></strong></a></li></ul></li><li><a href=#3-生成簽名密鑰僅限生產構建><strong>3. 生成簽名密鑰（僅限生產構建）</strong></a></li><li><a href=#4-構建-apk-文件><strong>4. 構建 APK 文件</strong></a></li><li><a href=#5-獲取生成的-apk-文件><strong>5. 獲取生成的 APK 文件</strong></a></li><li><a href=#6-在設備上安裝-apk><strong>6. 在設備上安裝 APK</strong></a></li><li><a href=#7-常見問題><strong>7. 常見問題</strong></a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=how-to-build-apk-file-on-react-native-project>How to build apk file on React-Native Project?
<a class=anchor href=#how-to-build-apk-file-on-react-native-project>#</a></h1><h2 id=1-確保已完成的環境設置><strong>1. 確保已完成的環境設置</strong>
<a class=anchor href=#1-%e7%a2%ba%e4%bf%9d%e5%b7%b2%e5%ae%8c%e6%88%90%e7%9a%84%e7%92%b0%e5%a2%83%e8%a8%ad%e7%bd%ae>#</a></h2><h3 id=必備工具>必備工具：
<a class=anchor href=#%e5%bf%85%e5%82%99%e5%b7%a5%e5%85%b7>#</a></h3><ol><li>安裝 <a href=https://nodejs.org/>Node.js</a>.</li><li>安裝 <a href=https://www.oracle.com/java/technologies/javase-jdk11-downloads.html>Java JDK</a> (推薦 11 或更高版本)。</li><li>安裝 <a href=https://developer.android.com/studio>Android Studio</a> 並設置環境變量：<ul><li>配置 <code>ANDROID_HOME</code> 環境變量，指向你的 Android SDK 安裝路徑。</li><li>將以下路徑添加到 <code>PATH</code>：<pre tabindex=0><code>$ANDROID_HOME/tools
$ANDROID_HOME/tools/bin
$ANDROID_HOME/platform-tools
</code></pre></li></ul></li><li>使用以下命令確認 Android SDK 設置正確：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>adb --version
</span></span></code></pre></div></li></ol><hr><h2 id=2-檢查-react-native-項目配置><strong>2. 檢查 React Native 項目配置</strong>
<a class=anchor href=#2-%e6%aa%a2%e6%9f%a5-react-native-%e9%a0%85%e7%9b%ae%e9%85%8d%e7%bd%ae>#</a></h2><p>在項目中，確保以下內容已經配置：</p><h3 id=文件><strong>文件 <code>android/app/build.gradle</code></strong>
<a class=anchor href=#%e6%96%87%e4%bb%b6>#</a></h3><p>確認 <code>minSdkVersion</code> 和 <code>targetSdkVersion</code> 值符合要求，例如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gradle data-lang=gradle><span style=display:flex><span>android <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    defaultConfig <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        applicationId <span style=color:#e6db74>&#34;com.example.myapp&#34;</span> <span style=color:#75715e>// 替換為你的包名
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        minSdkVersion <span style=color:#ae81ff>21</span>
</span></span><span style=display:flex><span>        targetSdkVersion <span style=color:#ae81ff>33</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><h3 id=文件-1><strong>文件 <code>android/gradle.properties</code></strong>
<a class=anchor href=#%e6%96%87%e4%bb%b6-1>#</a></h3><p>啟用 ProGuard 和 Hermes 以優化 APK：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-properties data-lang=properties><span style=display:flex><span><span style=color:#a6e22e>android.useAndroidX</span><span style=color:#f92672>=</span><span style=color:#e6db74>true</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>android.enableJetifier</span><span style=color:#f92672>=</span><span style=color:#e6db74>true</span>
</span></span></code></pre></div><h3 id=文件-2><strong>文件 <code>android/app/src/main/AndroidManifest.xml</code></strong>
<a class=anchor href=#%e6%96%87%e4%bb%b6-2>#</a></h3><p>確保 AndroidManifest 配置正確。</p><hr><h2 id=3-生成簽名密鑰僅限生產構建><strong>3. 生成簽名密鑰（僅限生產構建）</strong>
<a class=anchor href=#3-%e7%94%9f%e6%88%90%e7%b0%bd%e5%90%8d%e5%af%86%e9%91%b0%e5%83%85%e9%99%90%e7%94%9f%e7%94%a2%e6%a7%8b%e5%bb%ba>#</a></h2><p>如果你要構建發布版本的 APK，需要生成簽名密鑰。</p><ol><li><p>使用 <code>keytool</code> 生成密鑰：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>keytool -genkey -v -keystore my-release-key.jks -keyalg RSA -keysize <span style=color:#ae81ff>2048</span> -validity <span style=color:#ae81ff>10000</span> -alias my-key-alias
</span></span></code></pre></div><ul><li>按照提示設置密鑰密碼。</li><li>這將生成一個 <code>my-release-key.jks</code> 文件。</li></ul></li><li><p>將密鑰文件移動到 <code>android/app</code> 目錄。</p></li><li><p>在 <code>android/gradle.properties</code> 文件中添加簽名信息：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-properties data-lang=properties><span style=display:flex><span><span style=color:#a6e22e>MYAPP_RELEASE_STORE_FILE</span><span style=color:#f92672>=</span><span style=color:#e6db74>my-release-key.jks</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>MYAPP_RELEASE_KEY_ALIAS</span><span style=color:#f92672>=</span><span style=color:#e6db74>my-key-alias</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>MYAPP_RELEASE_STORE_PASSWORD</span><span style=color:#f92672>=</span><span style=color:#e6db74>your-store-password</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>MYAPP_RELEASE_KEY_PASSWORD</span><span style=color:#f92672>=</span><span style=color:#e6db74>your-key-password</span>
</span></span></code></pre></div></li><li><p>修改 <code>android/app/build.gradle</code>，添加簽名配置：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gradle data-lang=gradle><span style=display:flex><span>android <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    signingConfigs <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        release <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            storeFile <span style=color:#a6e22e>file</span><span style=color:#f92672>(</span>MYAPP_RELEASE_STORE_FILE<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>            storePassword MYAPP_RELEASE_STORE_PASSWORD
</span></span><span style=display:flex><span>            keyAlias MYAPP_RELEASE_KEY_ALIAS
</span></span><span style=display:flex><span>            keyPassword MYAPP_RELEASE_KEY_PASSWORD
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    buildTypes <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        release <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            signingConfig signingConfigs<span style=color:#f92672>.</span><span style=color:#a6e22e>release</span>
</span></span><span style=display:flex><span>            minifyEnabled <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>            shrinkResources <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div></li></ol><hr><h2 id=4-構建-apk-文件><strong>4. 構建 APK 文件</strong>
<a class=anchor href=#4-%e6%a7%8b%e5%bb%ba-apk-%e6%96%87%e4%bb%b6>#</a></h2><p>使用 React Native 提供的 Gradle 構建工具生成 APK。</p><ol><li><p>進入項目目錄：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd android
</span></span></code></pre></div></li><li><p>構建 Debug APK：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./gradlew assembleDebug
</span></span></code></pre></div></li><li><p>構建 Release APK：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./gradlew assembleRelease
</span></span></code></pre></div></li></ol><hr><h2 id=5-獲取生成的-apk-文件><strong>5. 獲取生成的 APK 文件</strong>
<a class=anchor href=#5-%e7%8d%b2%e5%8f%96%e7%94%9f%e6%88%90%e7%9a%84-apk-%e6%96%87%e4%bb%b6>#</a></h2><p>構建完成後，APK 文件會保存在以下路徑：</p><ul><li><p>Debug APK：</p><pre tabindex=0><code>android/app/build/outputs/apk/debug/app-debug.apk
</code></pre></li><li><p>Release APK：</p><pre tabindex=0><code>android/app/build/outputs/apk/release/app-release.apk
</code></pre></li></ul><hr><h2 id=6-在設備上安裝-apk><strong>6. 在設備上安裝 APK</strong>
<a class=anchor href=#6-%e5%9c%a8%e8%a8%ad%e5%82%99%e4%b8%8a%e5%ae%89%e8%a3%9d-apk>#</a></h2><p>使用以下命令將 APK 安裝到設備：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>adb install app-debug.apk
</span></span></code></pre></div><hr><h2 id=7-常見問題><strong>7. 常見問題</strong>
<a class=anchor href=#7-%e5%b8%b8%e8%a6%8b%e5%95%8f%e9%a1%8c>#</a></h2><ul><li><strong>Java 內存不足</strong>：在 <code>android/gradle.properties</code> 文件中添加：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-properties data-lang=properties><span style=display:flex><span><span style=color:#a6e22e>org.gradle.jvmargs</span><span style=color:#f92672>=</span><span style=color:#e6db74>-Xmx2048m</span>
</span></span></code></pre></div></li><li><strong>簽名錯誤</strong>：確保密鑰信息正確，並且 <code>build.gradle</code> 配置無誤。</li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#1-確保已完成的環境設置><strong>1. 確保已完成的環境設置</strong></a><ul><li><a href=#必備工具>必備工具：</a></li></ul></li><li><a href=#2-檢查-react-native-項目配置><strong>2. 檢查 React Native 項目配置</strong></a><ul><li><a href=#文件><strong>文件 <code>android/app/build.gradle</code></strong></a></li><li><a href=#文件-1><strong>文件 <code>android/gradle.properties</code></strong></a></li><li><a href=#文件-2><strong>文件 <code>android/app/src/main/AndroidManifest.xml</code></strong></a></li></ul></li><li><a href=#3-生成簽名密鑰僅限生產構建><strong>3. 生成簽名密鑰（僅限生產構建）</strong></a></li><li><a href=#4-構建-apk-文件><strong>4. 構建 APK 文件</strong></a></li><li><a href=#5-獲取生成的-apk-文件><strong>5. 獲取生成的 APK 文件</strong></a></li><li><a href=#6-在設備上安裝-apk><strong>6. 在設備上安裝 APK</strong></a></li><li><a href=#7-常見問題><strong>7. 常見問題</strong></a></li></ul></nav></div></aside></main></body></html>