<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://bernie6401.github.io/tags/ntu_st/"><meta property="og:site_name" content="SBK Hugo Site"><meta property="og:title" content="NTU_ST"><meta property="og:locale" content="en_us"><meta property="og:type" content="website"><title>NTU_ST | SBK Hugo Site</title>
<link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=https://bernie6401.github.io/tags/ntu_st/><link rel=stylesheet href=/book.min.6c8b9d2a1fc95075ed7da46ca81060b39add8fff6741ac51259f768929281e2c.css integrity="sha256-bIudKh/JUHXtfaRsqBBgs5rdj/9nQaxRJZ92iSkoHiw=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.acdc41c8d39e6c69d70d8a23779875e0a3733fefead3e428d5344966bb12f562.js integrity="sha256-rNxByNOebGnXDYojd5h14KNzP+/q0+Qo1TRJZrsS9WI=" crossorigin=anonymous></script><link rel=alternate type=application/rss+xml href=https://bernie6401.github.io/tags/ntu_st/index.xml title="SBK Hugo Site"></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>SBK Hugo Site</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>NTU_ST</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav><ul><li class=book-section-flat><strong>Categories</strong><ul></ul></li><li class=book-section-flat><strong>Tags</strong><ul><li class="flex justify-between"><a href=/tags/ad/>AD</a>
<span>25</span></li><li class="flex justify-between"><a href=/tags/adworld/>Adworld</a>
<span>6</span></li><li class="flex justify-between"><a href=/tags/aegis/>AEGIS</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/ai/>AI</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/ais3/>AIS3</a>
<span>4</span></li><li class="flex justify-between"><a href=/tags/android/>Android</a>
<span>11</span></li><li class="flex justify-between"><a href=/tags/balsnctf/>BalsnCTF</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/book/>Book</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/btlo/>BTLO</a>
<span>8</span></li><li class="flex justify-between"><a href=/tags/cggc/>CGGC</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/chatgpt/>ChatGPT</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/crewctf/>CrewCTF</a>
<span>6</span></li><li class="flex justify-between"><a href=/tags/crypto/>Crypto</a>
<span>36</span></li><li class="flex justify-between"><a href=/tags/cryptography/>Cryptography</a>
<span>7</span></li><li class="flex justify-between"><a href=/tags/csc/>CSC</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/ctf/>CTF</a>
<span>267</span></li><li class="flex justify-between"><a href=/tags/cyberdefender/>CyberDefender</a>
<span>23</span></li><li class="flex justify-between"><a href=/tags/data-structure/>Data Structure</a>
<span>6</span></li><li class="flex justify-between"><a href=/tags/deadfacectf/>DeadFaceCTF</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/digital-forensics/>Digital Forensics</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/drozer/>Drozer</a>
<span>10</span></li><li class="flex justify-between"><a href=/tags/easy/>Easy</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/eductf/>Eductf</a>
<span>85</span></li><li class="flex justify-between"><a href=/tags/endpoint-forensics/>Endpoint Forensics</a>
<span>16</span></li><li class="flex justify-between"><a href=/tags/english-writing/>English Writing</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/forensics/>Forensics</a>
<span>8</span></li><li class="flex justify-between"><a href=/tags/general-skill/>General Skill</a>
<span>4</span></li><li class="flex justify-between"><a href=/tags/hackthebox/>Hackthebox</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/incident-response/>Incident Response</a>
<span>5</span></li><li class="flex justify-between"><a href=/tags/information-security/>Information Security</a>
<span>25</span></li><li class="flex justify-between"><a href=/tags/interview/>Interview</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/latex/>LaTeX</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/leetcode/>LeetCode</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/machine-learning/>Machine Learning</a>
<span>5</span></li><li class="flex justify-between"><a href=/tags/malware-reverse-engineering-and-analysis/>Malware Reverse Engineering and Analysis</a>
<span>7</span></li><li class="flex justify-between"><a href=/tags/meeting-paper/>Meeting Paper</a>
<span>20</span></li><li class="flex justify-between"><a href=/tags/misc/>Misc</a>
<span>44</span></li><li class="flex justify-between"><a href=/tags/mobsf/>MobSF</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/network-forensics/>Network Forensics</a>
<span>4</span></li><li class="flex justify-between"><a href=/tags/nisra/>NISRA</a>
<span>8</span></li><li class="flex justify-between"><a href=/tags/ntu/>NTU</a>
<span>67</span></li><li class="flex justify-between"><a href=/tags/ntu_ct/>NTU_CT</a>
<span>6</span></li><li class="flex justify-between"><a href=/tags/ntu_ml/>NTU_ML</a>
<span>5</span></li><li class="flex justify-between"><a href=/tags/ntu_mr/>NTU_MR</a>
<span>7</span></li><li class="flex justify-between"><a href=/tags/ntu_os/>NTU_OS</a>
<span>4</span></li><li class="flex justify-between"><a href=/tags/ntu_padns/>NTU_PADNS</a>
<span>8</span></li><li class="flex justify-between"><a href=/tags/ntu_st/>NTU_ST</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/ntucns/>NTUCNS</a>
<span>11</span></li><li class="flex justify-between"><a href=/tags/ntust/>NTUST</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/ntustisc/>NTUSTISC</a>
<span>32</span></li><li class="flex justify-between"><a href=/tags/ntustws/>NTUSTWS</a>
<span>29</span></li><li class="flex justify-between"><a href=/tags/nycu/>NYCU</a>
<span>6</span></li><li class="flex justify-between"><a href=/tags/picoctf/>PicoCTF</a>
<span>112</span></li><li class="flex justify-between"><a href=/tags/portswigger-web-security-academy/>Portswigger Web Security Academy</a>
<span>29</span></li><li class="flex justify-between"><a href=/tags/problem-solution/>Problem Solution</a>
<span>28</span></li><li class="flex justify-between"><a href=/tags/pwn/>PWN</a>
<span>57</span></li><li class="flex justify-between"><a href=/tags/reverse/>Reverse</a>
<span>46</span></li><li class="flex justify-between"><a href=/tags/security-operation/>Security Operation</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/side-project/>Side Project</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/software-testing/>Software Testing</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/special-topic/>Special Topic</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/taiwanholyhigh/>TaiwanHolyHigh</a>
<span>9</span></li><li class="flex justify-between"><a href=/tags/tcivs/>TCIVS</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/threat-intel/>Threat Intel</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/tools/>Tools</a>
<span>19</span></li><li class="flex justify-between"><a href=/tags/tscctf/>TSCCTF</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/web/>Web</a>
<span>93</span></li><li class="flex justify-between"><a href=/tags/welcome/>Welcome</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/windows/>Windows</a>
<span>7</span></li><li class="flex justify-between"><a href=/tags/%E5%90%8D%E8%A9%9E%E8%A7%A3%E9%87%8B/>名詞解釋</a>
<span>10</span></li><li class="flex justify-between"><a href=/tags/%E8%AE%80%E6%9B%B8%E5%BF%83%E5%BE%97/>讀書心得</a>
<span>2</span></li></ul></li></ul></nav></aside></header><article class="markdown book-post"><h2><a href=/security/course/ntu-st/ntu-software-testing-notes-1/>NTU Software Testing Notes</a></h2><div class=text-small><a href=/tags/ntu_st/>NTU_ST</a>,
<a href=/tags/software-testing/>Software Testing</a>,
<a href=/tags/ntu/>NTU</a></div><p><h1 id=ntu-software-testing-notes>NTU Software Testing Notes
<a class=anchor href=#ntu-software-testing-notes>#</a></h1><h6 id=tags-ntu_st-software-testing>tags: <code>NTU_ST</code> <code>Software Testing</code>
<a class=anchor href=#tags-ntu_st-software-testing>#</a></h6><p><strong>All content in this presentation is refer to <a href=http://cc.ee.ntu.edu.tw/~farn/courses/ST/2021.Spring/>Pro. Farn Wang Website</a></strong></p><p>:::spoiler Click to open TOC
[TOC]
:::</p><h2 id=61-regression-testing>6.1 Regression Testing
<a class=anchor href=#61-regression-testing>#</a></h2><ul><li>Definition<blockquote><p>The process of re-testing software that has been modified
重複執行既有的全部或部分的相同測試 - by <a href=https://medium.com/@esther.tsai/%E5%9B%9E%E6%AD%B8%E6%B8%AC%E8%A9%A6-regression-testing-35d69b996481>Esther</a></p></blockquote></li><li>Note that:<blockquote><p>Most of our testing effort is regression testing
Regression tests must be automated</p></blockquote></li><li>Type of tools<ul><li>Capture / Replay: Capture values entered into a GUI and replay those values on new versions(抓取輸入到GUI的value並replay到新的版本)</li><li>Version control: 追踪測試集合、預期結果、測試來源、使用的標準及其過去的有效性(Keeps track of collections of tests, expected results, where the tests came from, the criterion used, and their past effectiveness)</li><li>Scripting software: 管理以下流程，包含獲取測試輸入、執行軟體、獲取輸出、比較結果和生成測試報告等等(Manages the process of obtaining test inputs, executing the software, obtaining the outputs, comparing the results, and generating test reports</li></ul><blockquote><p>Tools are plentiful and cheap</p><a href=/security/course/ntu-st/ntu-software-testing-notes-1/>...</a></p></article><article class="markdown book-post"><h2><a href=/security/course/ntu-st/ntu-software-testing-notes/>NTU Software Testing Notes</a></h2><div class=text-small><a href=/tags/ntu_st/>NTU_ST</a>,
<a href=/tags/software-testing/>Software Testing</a>,
<a href=/tags/ntu/>NTU</a></div><p><h1 id=ntu-software-testing-notes>NTU Software Testing Notes
<a class=anchor href=#ntu-software-testing-notes>#</a></h1><h6 id=tags-ntu_st-software-testing>tags: <code>NTU_ST</code> <code>Software Testing</code>
<a class=anchor href=#tags-ntu_st-software-testing>#</a></h6><p><strong>All content in this presentation is refer to <a href=http://cc.ee.ntu.edu.tw/~farn/courses/ST/2021.Spring/>Pro. Farn Wang Website</a></strong></p><p>:::spoiler Click to open TOC
[TOC]
:::</p><h1 id=25-graph-coverage-for-specifications>2.5 Graph Coverage for Specifications
<a class=anchor href=#25-graph-coverage-for-specifications>#</a></h1><h2 id=design-spec>Design Spec.
<a class=anchor href=#design-spec>#</a></h2><ul><li>What is design specification?<ul><li>描述軟體應該有的行為(可見或不可見都有可能)</li></ul></li><li>What is different between requirement and specification<ul><li>requirement: 顧客端 / specification: 技術端</li></ul></li><li>Sequence就是一連串的行為和狀態->script</li><li>Testing就是在看script有發生該發生的事情</li><li>Two types of description are used in this chapter<ul><li><strong>Sequencing constraints</strong></li><li><strong>State behavior</strong></li></ul></li></ul><h2 id=sequencing-constraints>Sequencing constraints
<a class=anchor href=#sequencing-constraints>#</a></h2><ul><li>Constraint有可能是document的一些潛規則或是method上順序的限制，e.g. stack data structure在沒有push前不能pop</li><li>Queue Example: precondiction就是這個例子的sequence constraint
<img src=https://i.imgur.com/3RaZRfK.png alt="Queue Example"></li><li>File ADT Example<ul><li>ADT: Abstract Data Type其實就是早期的class</li><li>sequence constraint about example</li></ul><ol><li>寫之前要先打開file</li><li>關閉之前要先打開file</li><li>在close file之後除非再open file，不然不可以write file</li><li>close file前一定要write file，不然就浪費這個procedure
<img src=https://imgur.com/1NYVCj1.png alt="File ADT Example"></li></ol><ul><li><p>Static Checking: 先不跑test input，先針對畫出來的graph做checking</p><a href=/security/course/ntu-st/ntu-software-testing-notes/>...</a></p></article><article class="markdown book-post"><h2><a href=/security/course/ntu-st/unit-test-practice/>Unit Test Practice</a></h2><div class=text-small><a href=/tags/ntu_st/>NTU_ST</a>,
<a href=/tags/software-testing/>Software Testing</a>,
<a href=/tags/ntu/>NTU</a></div><p><h1 id=unit-test-practice>Unit Test Practice
<a class=anchor href=#unit-test-practice>#</a></h1><h6 id=tags-ntu_st-software-testing>tags: <code>NTU_ST</code> <code>Software Testing</code>
<a class=anchor href=#tags-ntu_st-software-testing>#</a></h6><p>:::spoiler Click to open TOC
[TOC]
:::</p><h2 id=install-the-environment>Install the environment
<a class=anchor href=#install-the-environment>#</a></h2><ul><li>Install Visual Studio with .NET that we can use C# language to implement unit test properly.<img src=https://imgur.com/VwMKdZM.png alt="install c#"></li></ul><h2 id=create-a-project-to-test>Create a project to test
<a class=anchor href=#create-a-project-to-test>#</a></h2><ul><li>Create a new project and choose C# as your language and named the project <strong>Bank</strong>.<img src=https://imgur.com/bPDga9p.png alt="create project"></li><li>Rename Program.cs as BankAccount.cs and replace all content by the following code.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c# data-lang=c#><span style=display:flex><span><span style=color:#66d9ef>using</span> System;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> BankAccountNS
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>BankAccount</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>readonly</span> <span style=color:#66d9ef>string</span> m_customerName;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>double</span> m_balance;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> BankAccount() { }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> BankAccount(<span style=color:#66d9ef>string</span> customerName, <span style=color:#66d9ef>double</span> balance)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            m_customerName = customerName;
</span></span><span style=display:flex><span>            m_balance = balance;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>string</span> CustomerName
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>get</span> { <span style=color:#66d9ef>return</span> m_customerName; }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>double</span> Balance
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>get</span> { <span style=color:#66d9ef>return</span> m_balance; }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> Debit(<span style=color:#66d9ef>double</span> amount)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (amount &gt; m_balance)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> ArgumentOutOfRangeException(<span style=color:#e6db74>&#34;amount&#34;</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (amount &lt; <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> ArgumentOutOfRangeException(<span style=color:#e6db74>&#34;amount&#34;</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            m_balance += amount; <span style=color:#75715e>// intentionally incorrect code</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> Credit(<span style=color:#66d9ef>double</span> amount)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (amount &lt; <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> ArgumentOutOfRangeException(<span style=color:#e6db74>&#34;amount&#34;</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            m_balance += amount;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> Main()
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            BankAccount ba = <span style=color:#66d9ef>new</span> BankAccount(<span style=color:#e6db74>&#34;Mr. Bryan Walton&#34;</span>, <span style=color:#ae81ff>11.99</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            ba.Credit(<span style=color:#ae81ff>5.77</span>);
</span></span><span style=display:flex><span>            ba.Debit(<span style=color:#ae81ff>11.22</span>);
</span></span><span style=display:flex><span>            Console.WriteLine(<span style=color:#e6db74>&#34;Current balance is ${0}&#34;</span>, ba.Balance);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>Build it by clicking <strong>Build Solution</strong> in Build menu.</li></ul><h2 id=create-a-unit-test-project>Create a unit test project
<a class=anchor href=#create-a-unit-test-project>#</a></h2><ul><li>Create a new project at solution explorer and named it <strong>BankTests</strong>. The other part just maintain default setup.<img src=https://imgur.com/ryriCen.png alt></li><li>Select <strong>MSTest Test Project</strong><img src=https://imgur.com/dI5h4T0.png alt>&lt;-This is important.</li><li><strong>Add reference</strong> by selecting <strong>Add Reference</strong> at <strong>BankTests/Dependencies</strong><img src=https://imgur.com/9Miqs7p.png alt></li><li>In the <strong>Reference Manager</strong> dialog box, expand <strong>Projects</strong>, select <strong>Solution</strong>, and then check the Bank item.<img src=https://imgur.com/ZBOR73N.png alt></li></ul><h2 id=create-the-test-class>Create the test class
<a class=anchor href=#create-the-test-class>#</a></h2><ul><li>Rename UnitTest1.cs to BankAccountTests.cs and replace the original code with the following section and add using statement at the top of the class file.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c# data-lang=c#><span style=display:flex><span><span style=color:#66d9ef>using</span> Microsoft.VisualStudio.TestTools.UnitTesting;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> BankTests
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span><span style=color:#a6e22e>    [TestClass]</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>BankAccountTests</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span><span style=color:#a6e22e>        [TestMethod]</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> TestMethod1()
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>BTW, the default class part can be ignored.</li></ul><h2 id=create-the-first-test-method>Create the first test method
<a class=anchor href=#create-the-first-test-method>#</a></h2><ul><li>Replace the default class with the following code</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c# data-lang=c#><span style=display:flex><span><span style=color:#a6e22e>[TestMethod]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> Debit_WithValidAmount_UpdatesBalance()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Arrange</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> beginningBalance = <span style=color:#ae81ff>11.99</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> debitAmount = <span style=color:#ae81ff>4.55</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> expected = <span style=color:#ae81ff>7.44</span>;
</span></span><span style=display:flex><span>    BankAccount account = <span style=color:#66d9ef>new</span> BankAccount(<span style=color:#e6db74>&#34;Mr. Bryan Walton&#34;</span>, beginningBalance);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Act</span>
</span></span><span style=display:flex><span>    account.Debit(debitAmount);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Assert</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> actual = account.Balance;
</span></span><span style=display:flex><span>    Assert.AreEqual(expected, actual, <span style=color:#ae81ff>0.001</span>, <span style=color:#e6db74>&#34;Account not debited correctly&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>Analyze this part: Assert.AreEqual method will catch the exception when <strong>expected value</strong> unequal <strong>actual value</strong> or their difference larger than <strong>delta</strong>(0.001).</li><li>Comparing with BankAccount.cs, the truly process of <strong>Debit</strong> function is $beginningBalance - debitAmount = expected$ -> $11.99 - 4.55 = 7.44$</li></ul><h2 id=build-and-run-the-test>Build and run the test
<a class=anchor href=#build-and-run-the-test>#</a></h2><ul><li>On the Build menu, choose Build Solution (or press Ctrl + SHIFT + B) and press <strong>Ctrl + E, T</strong> to open <strong>Test Explorer</strong>, then <strong>Run All</strong>.<img src=https://imgur.com/ljNqXiS.png alt></li><li>You&rsquo;ll find that all Test are failed, so you must modify somewhere incorrect.</li></ul><h2 id=fix-your-code-and-rerun-your-tests>Fix your code and rerun your tests
<a class=anchor href=#fix-your-code-and-rerun-your-tests>#</a></h2><ul><li>Return to BankAccount.cs and observe Debit() function.
<img src=https://imgur.com/sGGMxu7.png alt></li><li>Must change <code>m_balance += amount;</code> to <code>m_balance -= amount;</code></li><li>Build and Run the code again and you&rsquo;ll find the test is correct this time<img src=https://imgur.com/BNKS05j.png alt></li></ul><h2 id=create-and-run-new-test-methods>Create and run new test methods
<a class=anchor href=#create-and-run-new-test-methods>#</a></h2><ul><li>Add the following program in test class and rebuild it.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c# data-lang=c#><span style=display:flex><span><span style=color:#a6e22e>[TestMethod]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> Debit_WhenAmountIsLessThanZero_ShouldThrowArgumentOutOfRange()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Arrange</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> beginningBalance = <span style=color:#ae81ff>11.99</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> debitAmount = -<span style=color:#ae81ff>100.00</span>;
</span></span><span style=display:flex><span>    BankAccount account = <span style=color:#66d9ef>new</span> BankAccount(<span style=color:#e6db74>&#34;Mr. Bryan Walton&#34;</span>, beginningBalance);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Act and assert</span>
</span></span><span style=display:flex><span>    Assert.ThrowsException&lt;System.ArgumentOutOfRangeException&gt;(() =&gt; account.Debit(debitAmount));
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>[TestMethod]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> Debit_WhenAmountIsMoreThanBalance_ShouldThrowArgumentOutOfRange()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Arrange</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> beginningBalance = <span style=color:#ae81ff>11.99</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> debitAmount = <span style=color:#ae81ff>200.00</span>;
</span></span><span style=display:flex><span>    BankAccount account = <span style=color:#66d9ef>new</span> BankAccount(<span style=color:#e6db74>&#34;Mr. Bryan Walton&#34;</span>, beginningBalance);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Act and assert</span>
</span></span><span style=display:flex><span>    Assert.ThrowsException&lt;System.ArgumentOutOfRangeException&gt;(() =&gt; account.Debit(debitAmount));
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>Analyze: you&rsquo;ll find out that the <strong>debitAmout</strong> in the <strong>1st test method</strong> is less than zero and the <strong>debitAmount</strong> in <strong>2nd test method</strong> is larger than <strong>beginningBalance</strong>.</li><li>After runing test explorer, these 2 code block are working properly, but you don&rsquo;t know what kind of exception is(amount > m_balance or amount &lt; 0), we just know somewhere throw back an exception message.</li></ul><h2 id=revise-bankaccountcs>Revise BankAccount.cs
<a class=anchor href=#revise-bankaccountcs>#</a></h2><ul><li>Trace back to BankAccount.Debit and you&rsquo;ll notice that they used the same exception, so you can determine to use ArgumentOutOfRangeException(String, Object, String) to contain the name of the argument, the argument value, and a user-defined message.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c# data-lang=c#><span style=display:flex><span><span style=color:#66d9ef>if</span> (amount &gt; m_balance)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> ArgumentOutOfRangeException(<span style=color:#e6db74>&#34;amount&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (amount &lt; <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> ArgumentOutOfRangeException(<span style=color:#e6db74>&#34;amount&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=refactor-the-code-under-test>Refactor the code under test
<a class=anchor href=#refactor-the-code-under-test>#</a></h2><ul><li>Define 2 constants for the error message at class scope, put the following code block in the class under test, BankAccout.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c# data-lang=c#><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>string</span> DebitAmountExceedsBalanceMessage = <span style=color:#e6db74>&#34;Debit amount exceeds balance&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>string</span> DebitAmountLessThanZeroMessage = <span style=color:#e6db74>&#34;Debit amount is less than zero&#34;</span>;
</span></span></code></pre></div><ul><li>Then modify the 2 conditional statements in the Debit method.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c# data-lang=c#><span style=display:flex><span><span style=color:#66d9ef>if</span> (amount &gt; m_balance)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> System.ArgumentOutOfRangeException(<span style=color:#e6db74>&#34;amount&#34;</span>, amount, DebitAmountExceedsBalanceMessage);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (amount &lt; <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> System.ArgumentOutOfRangeException(<span style=color:#e6db74>&#34;amount&#34;</span>, amount, DebitAmountLessThanZeroMessage);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>Refactor test method like this. Replacing Assert.ThrowsException with using try/catch method to catch unexpected exception situation.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C# data-lang=C#><span style=display:flex><span><span style=color:#a6e22e>[TestMethod]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> Debit_WhenAmountIsMoreThanBalance_ShouldThrowArgumentOutOfRange()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Arrange</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> beginningBalance = <span style=color:#ae81ff>11.99</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> debitAmount = <span style=color:#ae81ff>20.0</span>;
</span></span><span style=display:flex><span>    BankAccount account = <span style=color:#66d9ef>new</span> BankAccount(<span style=color:#e6db74>&#34;Mr. Bryan Walton&#34;</span>, beginningBalance);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Act</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        account.Debit(debitAmount);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>catch</span> (System.ArgumentOutOfRangeException e)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Assert</span>
</span></span><span style=display:flex><span>        StringAssert.Contains(e.Message, BankAccount.DebitAmountExceedsBalanceMessage);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=the-last-part>The last part
<a class=anchor href=#the-last-part>#</a></h2><ul><li>Not really understatnd about adding Assert.Fail at the end of the test method.</li></ul><h2 id=final-result>Final Result
<a class=anchor href=#final-result>#</a></h2><p><img src=https://imgur.com/5NtqEKr.png alt></p><a href=/security/course/ntu-st/unit-test-practice/>...</a></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav><ul><li class=book-section-flat><strong>Categories</strong><ul></ul></li><li class=book-section-flat><strong>Tags</strong><ul><li class="flex justify-between"><a href=/tags/ad/>AD</a>
<span>25</span></li><li class="flex justify-between"><a href=/tags/adworld/>Adworld</a>
<span>6</span></li><li class="flex justify-between"><a href=/tags/aegis/>AEGIS</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/ai/>AI</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/ais3/>AIS3</a>
<span>4</span></li><li class="flex justify-between"><a href=/tags/android/>Android</a>
<span>11</span></li><li class="flex justify-between"><a href=/tags/balsnctf/>BalsnCTF</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/book/>Book</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/btlo/>BTLO</a>
<span>8</span></li><li class="flex justify-between"><a href=/tags/cggc/>CGGC</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/chatgpt/>ChatGPT</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/crewctf/>CrewCTF</a>
<span>6</span></li><li class="flex justify-between"><a href=/tags/crypto/>Crypto</a>
<span>36</span></li><li class="flex justify-between"><a href=/tags/cryptography/>Cryptography</a>
<span>7</span></li><li class="flex justify-between"><a href=/tags/csc/>CSC</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/ctf/>CTF</a>
<span>267</span></li><li class="flex justify-between"><a href=/tags/cyberdefender/>CyberDefender</a>
<span>23</span></li><li class="flex justify-between"><a href=/tags/data-structure/>Data Structure</a>
<span>6</span></li><li class="flex justify-between"><a href=/tags/deadfacectf/>DeadFaceCTF</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/digital-forensics/>Digital Forensics</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/drozer/>Drozer</a>
<span>10</span></li><li class="flex justify-between"><a href=/tags/easy/>Easy</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/eductf/>Eductf</a>
<span>85</span></li><li class="flex justify-between"><a href=/tags/endpoint-forensics/>Endpoint Forensics</a>
<span>16</span></li><li class="flex justify-between"><a href=/tags/english-writing/>English Writing</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/forensics/>Forensics</a>
<span>8</span></li><li class="flex justify-between"><a href=/tags/general-skill/>General Skill</a>
<span>4</span></li><li class="flex justify-between"><a href=/tags/hackthebox/>Hackthebox</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/incident-response/>Incident Response</a>
<span>5</span></li><li class="flex justify-between"><a href=/tags/information-security/>Information Security</a>
<span>25</span></li><li class="flex justify-between"><a href=/tags/interview/>Interview</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/latex/>LaTeX</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/leetcode/>LeetCode</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/machine-learning/>Machine Learning</a>
<span>5</span></li><li class="flex justify-between"><a href=/tags/malware-reverse-engineering-and-analysis/>Malware Reverse Engineering and Analysis</a>
<span>7</span></li><li class="flex justify-between"><a href=/tags/meeting-paper/>Meeting Paper</a>
<span>20</span></li><li class="flex justify-between"><a href=/tags/misc/>Misc</a>
<span>44</span></li><li class="flex justify-between"><a href=/tags/mobsf/>MobSF</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/network-forensics/>Network Forensics</a>
<span>4</span></li><li class="flex justify-between"><a href=/tags/nisra/>NISRA</a>
<span>8</span></li><li class="flex justify-between"><a href=/tags/ntu/>NTU</a>
<span>67</span></li><li class="flex justify-between"><a href=/tags/ntu_ct/>NTU_CT</a>
<span>6</span></li><li class="flex justify-between"><a href=/tags/ntu_ml/>NTU_ML</a>
<span>5</span></li><li class="flex justify-between"><a href=/tags/ntu_mr/>NTU_MR</a>
<span>7</span></li><li class="flex justify-between"><a href=/tags/ntu_os/>NTU_OS</a>
<span>4</span></li><li class="flex justify-between"><a href=/tags/ntu_padns/>NTU_PADNS</a>
<span>8</span></li><li class="flex justify-between"><a href=/tags/ntu_st/>NTU_ST</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/ntucns/>NTUCNS</a>
<span>11</span></li><li class="flex justify-between"><a href=/tags/ntust/>NTUST</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/ntustisc/>NTUSTISC</a>
<span>32</span></li><li class="flex justify-between"><a href=/tags/ntustws/>NTUSTWS</a>
<span>29</span></li><li class="flex justify-between"><a href=/tags/nycu/>NYCU</a>
<span>6</span></li><li class="flex justify-between"><a href=/tags/picoctf/>PicoCTF</a>
<span>112</span></li><li class="flex justify-between"><a href=/tags/portswigger-web-security-academy/>Portswigger Web Security Academy</a>
<span>29</span></li><li class="flex justify-between"><a href=/tags/problem-solution/>Problem Solution</a>
<span>28</span></li><li class="flex justify-between"><a href=/tags/pwn/>PWN</a>
<span>57</span></li><li class="flex justify-between"><a href=/tags/reverse/>Reverse</a>
<span>46</span></li><li class="flex justify-between"><a href=/tags/security-operation/>Security Operation</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/side-project/>Side Project</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/software-testing/>Software Testing</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/special-topic/>Special Topic</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/taiwanholyhigh/>TaiwanHolyHigh</a>
<span>9</span></li><li class="flex justify-between"><a href=/tags/tcivs/>TCIVS</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/threat-intel/>Threat Intel</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/tools/>Tools</a>
<span>19</span></li><li class="flex justify-between"><a href=/tags/tscctf/>TSCCTF</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/web/>Web</a>
<span>93</span></li><li class="flex justify-between"><a href=/tags/welcome/>Welcome</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/windows/>Windows</a>
<span>7</span></li><li class="flex justify-between"><a href=/tags/%E5%90%8D%E8%A9%9E%E8%A7%A3%E9%87%8B/>名詞解釋</a>
<span>10</span></li><li class="flex justify-between"><a href=/tags/%E8%AE%80%E6%9B%B8%E5%BF%83%E5%BE%97/>讀書心得</a>
<span>2</span></li></ul></li></ul></nav></div></aside></main></body></html>