<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://bernie6401.github.io/tags/problem-solution/"><meta property="og:site_name" content="SBK Hugo Site"><meta property="og:title" content="Problem Solution"><meta property="og:locale" content="en_us"><meta property="og:type" content="website"><title>Problem Solution | SBK Hugo Site</title>
<link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=https://bernie6401.github.io/tags/problem-solution/><link rel=stylesheet href=/book.min.6c8b9d2a1fc95075ed7da46ca81060b39add8fff6741ac51259f768929281e2c.css integrity="sha256-bIudKh/JUHXtfaRsqBBgs5rdj/9nQaxRJZ92iSkoHiw=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.acdc41c8d39e6c69d70d8a23779875e0a3733fefead3e428d5344966bb12f562.js integrity="sha256-rNxByNOebGnXDYojd5h14KNzP+/q0+Qo1TRJZrsS9WI=" crossorigin=anonymous></script><link rel=alternate type=application/rss+xml href=https://bernie6401.github.io/tags/problem-solution/index.xml title="SBK Hugo Site"></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>SBK Hugo Site</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>Problem Solution</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav><ul><li class=book-section-flat><strong>Categories</strong><ul></ul></li><li class=book-section-flat><strong>Tags</strong><ul><li class="flex justify-between"><a href=/tags/ad/>AD</a>
<span>25</span></li><li class="flex justify-between"><a href=/tags/adworld/>Adworld</a>
<span>6</span></li><li class="flex justify-between"><a href=/tags/aegis/>AEGIS</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/ai/>AI</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/ais3/>AIS3</a>
<span>4</span></li><li class="flex justify-between"><a href=/tags/android/>Android</a>
<span>11</span></li><li class="flex justify-between"><a href=/tags/balsnctf/>BalsnCTF</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/book/>Book</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/btlo/>BTLO</a>
<span>8</span></li><li class="flex justify-between"><a href=/tags/cggc/>CGGC</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/chatgpt/>ChatGPT</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/crewctf/>CrewCTF</a>
<span>6</span></li><li class="flex justify-between"><a href=/tags/crypto/>Crypto</a>
<span>36</span></li><li class="flex justify-between"><a href=/tags/cryptography/>Cryptography</a>
<span>7</span></li><li class="flex justify-between"><a href=/tags/csc/>CSC</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/ctf/>CTF</a>
<span>267</span></li><li class="flex justify-between"><a href=/tags/cyberdefender/>CyberDefender</a>
<span>23</span></li><li class="flex justify-between"><a href=/tags/data-structure/>Data Structure</a>
<span>6</span></li><li class="flex justify-between"><a href=/tags/deadfacectf/>DeadFaceCTF</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/digital-forensics/>Digital Forensics</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/drozer/>Drozer</a>
<span>10</span></li><li class="flex justify-between"><a href=/tags/easy/>Easy</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/eductf/>Eductf</a>
<span>85</span></li><li class="flex justify-between"><a href=/tags/endpoint-forensics/>Endpoint Forensics</a>
<span>16</span></li><li class="flex justify-between"><a href=/tags/english-writing/>English Writing</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/forensics/>Forensics</a>
<span>8</span></li><li class="flex justify-between"><a href=/tags/general-skill/>General Skill</a>
<span>4</span></li><li class="flex justify-between"><a href=/tags/hackthebox/>Hackthebox</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/incident-response/>Incident Response</a>
<span>5</span></li><li class="flex justify-between"><a href=/tags/information-security/>Information Security</a>
<span>25</span></li><li class="flex justify-between"><a href=/tags/interview/>Interview</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/latex/>LaTeX</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/leetcode/>LeetCode</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/machine-learning/>Machine Learning</a>
<span>5</span></li><li class="flex justify-between"><a href=/tags/malware-reverse-engineering-and-analysis/>Malware Reverse Engineering and Analysis</a>
<span>7</span></li><li class="flex justify-between"><a href=/tags/meeting-paper/>Meeting Paper</a>
<span>20</span></li><li class="flex justify-between"><a href=/tags/misc/>Misc</a>
<span>44</span></li><li class="flex justify-between"><a href=/tags/mobsf/>MobSF</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/network-forensics/>Network Forensics</a>
<span>4</span></li><li class="flex justify-between"><a href=/tags/nisra/>NISRA</a>
<span>8</span></li><li class="flex justify-between"><a href=/tags/ntu/>NTU</a>
<span>67</span></li><li class="flex justify-between"><a href=/tags/ntu_ct/>NTU_CT</a>
<span>6</span></li><li class="flex justify-between"><a href=/tags/ntu_ml/>NTU_ML</a>
<span>5</span></li><li class="flex justify-between"><a href=/tags/ntu_mr/>NTU_MR</a>
<span>7</span></li><li class="flex justify-between"><a href=/tags/ntu_os/>NTU_OS</a>
<span>4</span></li><li class="flex justify-between"><a href=/tags/ntu_padns/>NTU_PADNS</a>
<span>8</span></li><li class="flex justify-between"><a href=/tags/ntu_st/>NTU_ST</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/ntucns/>NTUCNS</a>
<span>11</span></li><li class="flex justify-between"><a href=/tags/ntust/>NTUST</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/ntustisc/>NTUSTISC</a>
<span>32</span></li><li class="flex justify-between"><a href=/tags/ntustws/>NTUSTWS</a>
<span>29</span></li><li class="flex justify-between"><a href=/tags/nycu/>NYCU</a>
<span>6</span></li><li class="flex justify-between"><a href=/tags/picoctf/>PicoCTF</a>
<span>112</span></li><li class="flex justify-between"><a href=/tags/portswigger-web-security-academy/>Portswigger Web Security Academy</a>
<span>29</span></li><li class="flex justify-between"><a href=/tags/problem-solution/>Problem Solution</a>
<span>28</span></li><li class="flex justify-between"><a href=/tags/pwn/>PWN</a>
<span>57</span></li><li class="flex justify-between"><a href=/tags/reverse/>Reverse</a>
<span>46</span></li><li class="flex justify-between"><a href=/tags/security-operation/>Security Operation</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/side-project/>Side Project</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/software-testing/>Software Testing</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/special-topic/>Special Topic</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/taiwanholyhigh/>TaiwanHolyHigh</a>
<span>9</span></li><li class="flex justify-between"><a href=/tags/tcivs/>TCIVS</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/threat-intel/>Threat Intel</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/tools/>Tools</a>
<span>19</span></li><li class="flex justify-between"><a href=/tags/tscctf/>TSCCTF</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/web/>Web</a>
<span>93</span></li><li class="flex justify-between"><a href=/tags/welcome/>Welcome</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/windows/>Windows</a>
<span>7</span></li><li class="flex justify-between"><a href=/tags/%E5%90%8D%E8%A9%9E%E8%A7%A3%E9%87%8B/>名詞解釋</a>
<span>10</span></li><li class="flex justify-between"><a href=/tags/%E8%AE%80%E6%9B%B8%E5%BF%83%E5%BE%97/>讀書心得</a>
<span>2</span></li></ul></li></ul></nav></aside></header><article class="markdown book-post"><h2><a href=/problem-solutions/how-to-build-apk-file-on-react-native-project_/>How to build apk file on React-Native Project?</a></h2><div class=text-small><a href=/tags/problem-solution/>Problem Solution</a></div><p><h1 id=how-to-build-apk-file-on-react-native-project>How to build apk file on React-Native Project?
<a class=anchor href=#how-to-build-apk-file-on-react-native-project>#</a></h1><h2 id=1-確保已完成的環境設置><strong>1. 確保已完成的環境設置</strong>
<a class=anchor href=#1-%e7%a2%ba%e4%bf%9d%e5%b7%b2%e5%ae%8c%e6%88%90%e7%9a%84%e7%92%b0%e5%a2%83%e8%a8%ad%e7%bd%ae>#</a></h2><h3 id=必備工具>必備工具：
<a class=anchor href=#%e5%bf%85%e5%82%99%e5%b7%a5%e5%85%b7>#</a></h3><ol><li>安裝 <a href=https://nodejs.org/>Node.js</a>.</li><li>安裝 <a href=https://www.oracle.com/java/technologies/javase-jdk11-downloads.html>Java JDK</a> (推薦 11 或更高版本)。</li><li>安裝 <a href=https://developer.android.com/studio>Android Studio</a> 並設置環境變量：<ul><li>配置 <code>ANDROID_HOME</code> 環境變量，指向你的 Android SDK 安裝路徑。</li><li>將以下路徑添加到 <code>PATH</code>：<pre tabindex=0><code>$ANDROID_HOME/tools
$ANDROID_HOME/tools/bin
$ANDROID_HOME/platform-tools
</code></pre></li></ul></li><li>使用以下命令確認 Android SDK 設置正確：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>adb --version
</span></span></code></pre></div></li></ol><hr><h2 id=2-檢查-react-native-項目配置><strong>2. 檢查 React Native 項目配置</strong>
<a class=anchor href=#2-%e6%aa%a2%e6%9f%a5-react-native-%e9%a0%85%e7%9b%ae%e9%85%8d%e7%bd%ae>#</a></h2><p>在項目中，確保以下內容已經配置：</p><h3 id=文件><strong>文件 <code>android/app/build.gradle</code></strong>
<a class=anchor href=#%e6%96%87%e4%bb%b6>#</a></h3><p>確認 <code>minSdkVersion</code> 和 <code>targetSdkVersion</code> 值符合要求，例如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gradle data-lang=gradle><span style=display:flex><span>android <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    defaultConfig <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        applicationId <span style=color:#e6db74>&#34;com.example.myapp&#34;</span> <span style=color:#75715e>// 替換為你的包名
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        minSdkVersion <span style=color:#ae81ff>21</span>
</span></span><span style=display:flex><span>        targetSdkVersion <span style=color:#ae81ff>33</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><h3 id=文件-1><strong>文件 <code>android/gradle.properties</code></strong>
<a class=anchor href=#%e6%96%87%e4%bb%b6-1>#</a></h3><p>啟用 ProGuard 和 Hermes 以優化 APK：</p><a href=/problem-solutions/how-to-build-apk-file-on-react-native-project_/>...</a></p></article><article class="markdown book-post"><h2><a href=/problem-solutions/how-to-check-if-the-paper-is-top-conference-or-q1-journal_/>How to check if the paper is Top Conference or Q1 Journal?</a></h2><div class=text-small><a href=/tags/problem-solution/>Problem Solution</a></div><p><h1 id=how-to-check-if-the-paper-is-top-conference-or-q1-journal>How to check if the paper is Top Conference or Q1 Journal?
<a class=anchor href=#how-to-check-if-the-paper-is-top-conference-or-q1-journal>#</a></h1><h2 id=preliminary>Preliminary
<a class=anchor href=#preliminary>#</a></h2><ul><li>先判斷該篇論文是Conference還是Journal<blockquote><p>有出現Conference, Symposium, Proceedings, ACM: SIG…, Ex. SIGSOFT, SIGGRAPH等關鍵字時，基本上是Conference
有出現Journal或是Transactions基本上是Journal
[name=ianyang]</p></blockquote></li></ul><h2 id=conference>Conference
<a class=anchor href=#conference>#</a></h2><ul><li>(不推薦)直接看有沒有在Google Scholar Ranking當中
如果是Engineer & Computer Science的，可以直接看 <a href="https://scholar.google.com/citations?view_op=top_venues&amp;hl=zh-TW&amp;vq=eng">https://scholar.google.com/citations?view_op=top_venues&hl=zh-TW&vq=eng</a> ，不過這個方法也要知道該篇論文在Subcatecory當中的哪一個類別，可能該篇論文有用到很多元素，就不太好判斷</li><li>(推薦)直接丟 <a href=https://www.myhuiban.com/>https://www.myhuiban.com/</a> (有收錄中國、巴西和澳洲的等第)或 <a href=https://portal.core.edu.au/conf-ranks/>https://portal.core.edu.au/conf-ranks/</a> (澳洲政府開的學術研討會搜尋網站)，如果這兩個網站找不到或是有找到但沒有標示等第，那可能是不入流或是比較新的研討會</li><li>(推薦)直接問博班或是對該領域很熟的同學<ul><li>舉例來說IOP這個出版社我也沒聽過，但是@ian 說是一個以Open Source為主的出版社，所以他們出的一些Journal有機會是Q1，但如果是Conference可能就有點危</li><li>再舉例想是Spinger出版的可能都不是頂會，以CS領域來說，Springer出版的論文很少出現在頂會，Elsevier也是一樣的狀況</li></ul></li><li>(最後的方法)丟Google或是進官網找，看會議是誰主辦
只有很少的會議有這樣的狀況，例如<a href=https://conf.researchr.org/home/icse-2025>ICSE</a>，他底下就有很多Co-Hosted的會議是切分出來的
![圖片](<a href=https://hackmd.io/_uploads/rJrV-uzkJx.png>https://hackmd.io/_uploads/rJrV-uzkJx.png</a> =500x)
但本質上也還是ICSE主辦的，所以也算頂會，只是通常收錄的paper，他的reference citation會寫Co-Hosted的名稱而不是ICSE，這樣的話一般researcher可能會不知道這是什麼樣的conference，所以要往上一個level看他是誰主辦，但這是沒有辦法中的辦法，可能會走到這一步的情況是，有一個很多人cite的Paper也是自己的研究中主要比較對象，但透過以上方法都找不到，才會需要做到這個複雜
:::info
如果是IEEE或是ACM出版的，大部分都可能是頂會，但也要看，如果是自己論文的主要比較對象，就要再確定，但如果只是一般的引用，可以不用那麼detail或是執著一定要是頂會
:::</li></ul><h2 id=journal>Journal
<a class=anchor href=#journal>#</a></h2><p>這個就簡單很多，直接用Clarivate查JCI，如果沒有就代表沒有收錄在JCR，那可能就先不要引用，或者是有Transactions的關鍵字，代表他一定曾經是頂會，https://jcr.clarivate.com/jcr/home</p></p></article><article class="markdown book-post"><h2><a href=/problem-solutions/how-to-download-blob-videos_/>How to download blob videos?</a></h2><div class=text-small><a href=/tags/problem-solution/>Problem Solution</a></div><p><h1 id=how-to-download-blob-videos>How to download blob videos?
<a class=anchor href=#how-to-download-blob-videos>#</a></h1><p>參考資料: <a href=https://stackoverflow.com/questions/42901942/how-do-we-download-a-blob-url-video>https://stackoverflow.com/questions/42901942/how-do-we-download-a-blob-url-video</a>
參考資料: <a href=https://superuser.com/questions/1260846/downloading-m3u8-videos>https://superuser.com/questions/1260846/downloading-m3u8-videos</a></p><h2 id=prerequisite>Prerequisite
<a class=anchor href=#prerequisite>#</a></h2><p>有兩種方法，一種是利用ffmpeg，另外一種是<a href=https://github.com/yt-dlp/yt-dlp/wiki/Installation>yt-dlp</a>，前者下載比較慢，後者快很多，但都可以正確的下載</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Ffmpeg</span>
</span></span><span style=display:flex><span>$ sudo apt install ffmpeg -y
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># yt-dlp Windows</span>
</span></span><span style=display:flex><span>$ choco install yt-dlp
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># yt-dlp linux</span>
</span></span><span style=display:flex><span>sudo add-apt-repository ppa:tomtomtom/yt-dlp    <span style=color:#75715e># Add ppa repo to apt</span>
</span></span><span style=display:flex><span>sudo apt update                                 <span style=color:#75715e># Update package list</span>
</span></span><span style=display:flex><span>sudo apt install yt-dlp                         <span style=color:#75715e># Install yt-dlp</span>
</span></span></code></pre></div><h2 id=step>Step
<a class=anchor href=#step>#</a></h2><ol><li>透過Browser的F12找出m3u8的封包
<img src=https://hackmd.io/_uploads/HyrYRTR4kl.png alt=image></li><li>透過yt-dlp下載
複製封包的Request URL<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ yt-dlp <span style=color:#e6db74>&#34;https://surrit.com/9e2613de-2337-4cfd-aab5-2a68c0fbad14/playlist.m3u8&#34;</span>
</span></span></code></pre></div></li></ol></p></article><article class="markdown book-post"><h2><a href=/problem-solutions/how-to-install-aab-file_/>How to install aab file?</a></h2><div class=text-small><a href=/tags/problem-solution/>Problem Solution</a></div><p><h1 id=how-to-install-aab-file>How to install aab file?
<a class=anchor href=#how-to-install-aab-file>#</a></h1><h2 id=problem-statement>Problem Statement
<a class=anchor href=#problem-statement>#</a></h2><p>有時候我們會直接拿到aab檔案而非apk，尤其是用React Native寫的專案，但又無法直接安裝這個aab檔案，他需要經過一些步驟才能轉成apk</p><h2 id=solution>Solution
<a class=anchor href=#solution>#</a></h2><p>先確保本機有安裝keytool和bundletool，keytool一般會在<code>C:\Program File\Java\jdk-17\bin</code>中，只要設定環境變數就可以直接使用；而bundletool則是要另外<a href=https://github.com/google/bundletool/releases>下載</a>，有關於如何寫成bat，可以參考<a href=https://blog.csdn.net/yingaizhu/article/details/119545459>bundletool 工具使用詳解</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ keytool -genkeypair -v -keystore my-release-key.jks -keyalg RSA -keysize <span style=color:#ae81ff>2048</span> -validity <span style=color:#ae81ff>10000</span> -alias my-key-alias
</span></span><span style=display:flex><span><span style=color:#75715e># 填寫基本資訊</span>
</span></span><span style=display:flex><span>$ bundletool build-apks --bundle<span style=color:#f92672>=</span>&lt;your aab filename&gt; --output<span style=color:#f92672>=</span>app.apks --ks<span style=color:#f92672>=</span>./my-release-key.jks --ks-key-alias<span style=color:#f92672>=</span>my-key-alias
</span></span><span style=display:flex><span>$ bundletool install-apks --apks<span style=color:#f92672>=</span>app.apks
</span></span></code></pre></div></p></article><article class="markdown book-post"><h2><a href=/problem-solutions/how-to-install-logontracer_/>How to install LogonTracer?</a></h2><div class=text-small><a href=/tags/problem-solution/>Problem Solution</a></div><p><h1 id=how-to-install-logontracer>How to install LogonTracer?
<a class=anchor href=#how-to-install-logontracer>#</a></h1><h2 id=installation>Installation
<a class=anchor href=#installation>#</a></h2><h3 id=環境>環境
<a class=anchor href=#%e7%92%b0%e5%a2%83>#</a></h3><p>WSL2 - Ubuntu 20.04
Docker</p><h3 id=reference>Reference
<a class=anchor href=#reference>#</a></h3><p><a href=https://www.netadmin.com.tw/netadmin/zh-tw/technology/84E5EAA4BC494BB6A4B15607E62418A0>二刀流Windows日誌分析　精準掌握資安蛛絲馬跡</a></p><h3 id=docker-version>Docker Version
<a class=anchor href=#docker-version>#</a></h3><ol><li>安裝Docker(上網找)</li><li>Pull Image & Run<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ docker pull jpcertcc/docker-logontracer
</span></span><span style=display:flex><span>$ docker run --detach --publish<span style=color:#f92672>=</span>7474:7474  --publish<span style=color:#f92672>=</span>7687:7687 --publish<span style=color:#f92672>=</span>8080:8080 -e LTHOSTNAME<span style=color:#f92672>=</span>0.0.0.0 jpcertcc/docker-logontracer
</span></span></code></pre></div></li><li>先進入neo4j(<code>localhost:7474</code>)
預設密碼: <code>neo4j/neo4j</code>
:::info
若有遇到登入不進去的問題，error message$\to$<code>Neo.ClientError.Security.Unauthorized: The client is unauthorized due to authentication failure.</code>
可參考<a href=https://blog.csdn.net/weixin_39198406/article/details/85068102>訪問neo4j驗證失敗</a>，我是直接把neo4j.conf的驗證註解拿掉<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ docker exec -it <span style=color:#f92672>{</span>neo4j container name<span style=color:#f92672>}</span> bash
</span></span><span style=display:flex><span>root@5aac14bfd6fd:/var/lib/neo4j# find / -name neo4j.conf
</span></span><span style=display:flex><span>/var/lib/neo4j/conf/neo4j.conf
</span></span><span style=display:flex><span>root@5aac14bfd6fd:/var/lib/neo4j# cd conf/
</span></span><span style=display:flex><span>root@5aac14bfd6fd:/var/lib/neo4j/conf# apt install vim -y
</span></span><span style=display:flex><span>root@5aac14bfd6fd:/var/lib/neo4j/conf# vim neo4j.conf
</span></span><span style=display:flex><span><span style=color:#75715e># 只要把dbms.security.auth_enabled=false的註解拿掉就可以了</span>
</span></span><span style=display:flex><span>root@5aac14bfd6fd:/var/lib/neo4j/conf# exit
</span></span><span style=display:flex><span>exit
</span></span><span style=display:flex><span>$ docker restart nifty_stonebraker
</span></span><span style=display:flex><span>nifty_stonebraker
</span></span></code></pre></div>之後再重新進入<code>localhost:7474</code>，用預設帳密登入就可以了
:::</li><li>進入LogonTracer(<code>localhost:8080</code>)
預設帳密也是<code>neo4j/neo4j</code></li></ol><h3 id=python-version-recommended>Python Version (Recommended)
<a class=anchor href=#python-version-recommended>#</a></h3><p>如果上面的版本不行用的話，就直接用他們發在<a href=https://github.com/JPCERTCC/LogonTracer/wiki/how-to-use>github的版本</a>會比較穩定，詳細的步驟都已經寫在他們wiki了，不過有幾個問題還是需要先克服</p><a href=/problem-solutions/how-to-install-logontracer_/>...</a></p></article><article class="markdown book-post"><h2><a href=/problem-solutions/how-to-root-android-phone--install-alwaystrustusercert.zip-module_/>How to Root Android Phone & Install AlwaysTrustUserCert.zip Module?</a></h2><div class=text-small><a href=/tags/problem-solution/>Problem Solution</a></div><p><h1 id=how-to-root-android-phone--install-alwaystrustusercertzip-module>How to Root Android Phone & Install AlwaysTrustUserCert.zip Module?
<a class=anchor href=#how-to-root-android-phone--install-alwaystrustusercertzip-module>#</a></h1><ol><li>Install <a href=https://github.com/K3V1991/ADB-and-FastbootPlusPlus/releases>adb & fastboot++</a></li><li>透過USB連接手機和電腦，如果測試<code>$ fastboot devices</code>發現沒有抓到連線的裝置可以到<a href=https://developer.android.com/studio/run/win-usb>Get the Google USB Driver</a>下載最新的驅動，並且在裝置管理員的地方更新</li></ol><h2 id=android-studio-emulator>Android Studio Emulator
<a class=anchor href=#android-studio-emulator>#</a></h2><p>本方法完全是參考<a href="https://youtu.be/zZZVoUTZipw?si=-r7H1aWTeTDFkSOr">Root an Android emulator with just one command</a>，很簡單而且成功率很高，如果有特殊的需求而需要使用Physical Device，再往下看其他的Physical Device的Rooted Method</p><ol><li>用Android Studio開啟Emulator
請記住Emulator的API Level，以我的為例是31
<img src=https://hackmd.io/_uploads/Hy2UPOFAR.png alt=圖片></li><li>Download Script & Execute it
到 <a href=https://gitlab.com/newbit/rootAVD>https://gitlab.com/newbit/rootAVD</a> 下載latest script<pre tabindex=0><code class=language-bash! data-lang=bash!>$ git clone https://gitlab.com/newbit/rootAVD
$ cd rootAVD
$ rootAVD.bat ListAllAVDs
...
rootAVD.bat system-images\android-31\google_apis_playstore\x86_64\ramdisk.img
rootAVD.bat system-images\android-31\google_apis_playstore\x86_64\ramdisk.img FAKEBOOTIMG
rootAVD.bat system-images\android-31\google_apis_playstore\x86_64\ramdisk.img DEBUG PATCHFSTAB GetUSBHPmodZ
rootAVD.bat system-images\android-31\google_apis_playstore\x86_64\ramdisk.img restore
rootAVD.bat system-images\android-31\google_apis_playstore\x86_64\ramdisk.img InstallKernelModules
rootAVD.bat system-images\android-31\google_apis_playstore\x86_64\ramdisk.img InstallPrebuiltKernelModules
rootAVD.bat system-images\android-31\google_apis_playstore\x86_64\ramdisk.img InstallPrebuiltKernelModules GetUSBHPmodZ PATCHFSTAB DEBUG
...
</code></pre></li><li>選擇適當的command
可以從上面的output看到，API Level 31的所有commands，選擇第一個執行就可以了<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ rootAVD.bat system-images<span style=color:#ae81ff>\a</span>ndroid-31<span style=color:#ae81ff>\g</span>oogle_apis_playstore<span style=color:#ae81ff>\x</span>86_64<span style=color:#ae81ff>\r</span>amdisk.img
</span></span></code></pre></div>等大約3-5分鐘後，Emulator會自動關機，此時選擇Cold Boot
<img src=https://hackmd.io/_uploads/Sy__O_YCA.png alt=圖片>
開啟後，會發現Magisk已經被安裝在Emulator上，點開Magisk之後會在5秒內重開機，此時所有程序應該就結束了，可以測試一下有沒有確實Root<pre tabindex=0><code class=language-bash! data-lang=bash!>$ adb shell
emulator64_x86_64_arm64:/ $ ls /data/data
ls: /data/data: Permission denied
1|emulator64_x86_64_arm64:/ $ su
emulator64_x86_64_arm64:/ # ls /data/data
android                                                        com.android.simappdialog
android.auto_generated_rro_product__                           com.android.simappdialog.auto_generated_rro_product__
android.auto_generated_rro_vendor__                            com.android.soundpicker
...
</code></pre></li></ol><h2 id=asus-zenfone-3z017da>ASUS ZenFone 3(Z017DA)
<a class=anchor href=#asus-zenfone-3z017da>#</a></h2><p>這一台是Lab的手機，我拿到的時候就已經進入Bootloader了，所以我就直接跳到後半段，但是這一台應該是刷壞了，我先紀錄一下整個過程，現在是已經無線迴圈同一個畫面了QAQ</p><a href=/problem-solutions/how-to-root-android-phone--install-alwaystrustusercert.zip-module_/>...</a></p></article><article class="markdown book-post"><h2><a href=/problem-solutions/how-to-use-vscode-_-web-storm-debug-js_/>How to use VScode / Web Storm Debug JS?</a></h2><div class=text-small><a href=/tags/problem-solution/>Problem Solution</a></div><p><h1 id=how-to-use-vscode--web-storm-debug-js>How to use VScode / Web Storm Debug JS?
<a class=anchor href=#how-to-use-vscode--web-storm-debug-js>#</a></h1><h2 id=background>Background
<a class=anchor href=#background>#</a></h2><p><a href=https://a0910288060.medium.com/%E4%BA%86%E8%A7%A3node-js-nvm-npm%E5%B7%AE%E5%88%A5-47cda7c1d569>了解node.js nvm npm差別</a></p><h2 id=prepare-js-modules>Prepare JS Modules
<a class=anchor href=#prepare-js-modules>#</a></h2><p>當拿到一個web題目，通常會包含Dockerfile / docker-compose.yml / package.json，我們要做的就是把這個專案所需要的library都載好，這些通常都會記錄在package.json中</p><ul><li>Windows
在windows也需要下載js的interpreter，也就是node js / npm這些東西，詳細可以看<a href=https://learn.microsoft.com/zh-tw/windows/dev-environment/javascript/nodejs-on-windows>MSDN文件</a><ol><li>到<a href=https://github.com/coreybutler/nvm-windows/releases>nvm windows github官方</a>下載latest ==nvm-setup.exe==並安裝<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ nvm --version
</span></span><span style=display:flex><span>1.1.12
</span></span><span style=display:flex><span>$ nvm ls <span style=color:#75715e># 列出目前node js的已安裝的版本有哪些</span>
</span></span><span style=display:flex><span>No installations recognized. <span style=color:#75715e># 因為目前都沒有所以No installations</span>
</span></span><span style=display:flex><span>$ nvm list available <span style=color:#75715e># 列出目前可安裝的版本有哪些</span>
</span></span><span style=display:flex><span>|   CURRENT    |     LTS      |  OLD STABLE  | OLD UNSTABLE |
</span></span><span style=display:flex><span>|--------------|--------------|--------------|--------------|
</span></span><span style=display:flex><span>|    21.5.0    |   20.10.0    |   0.12.18    |   0.11.16    |
</span></span><span style=display:flex><span>|    21.4.0    |    20.9.0    |   0.12.17    |   0.11.15    |
</span></span><span style=display:flex><span>|    21.3.0    |   18.19.0    |   0.12.16    |   0.11.14    |
</span></span><span style=display:flex><span>|    21.2.0    |   18.18.2    |   0.12.15    |   0.11.13    |
</span></span><span style=display:flex><span>|    21.1.0    |   18.18.1    |   0.12.14    |   0.11.12    |
</span></span><span style=display:flex><span>|    21.0.0    |   18.18.0    |   0.12.13    |   0.11.11    |
</span></span><span style=display:flex><span>|    20.8.1    |   18.17.1    |   0.12.12    |   0.11.10    |
</span></span><span style=display:flex><span>|    20.8.0    |   18.17.0    |   0.12.11    |    0.11.9    |
</span></span><span style=display:flex><span>|    20.7.0    |   18.16.1    |   0.12.10    |    0.11.8    |
</span></span><span style=display:flex><span>|    20.6.1    |   18.16.0    |    0.12.9    |    0.11.7    |
</span></span><span style=display:flex><span>|    20.6.0    |   18.15.0    |    0.12.8    |    0.11.6    |
</span></span><span style=display:flex><span>|    20.5.1    |   18.14.2    |    0.12.7    |    0.11.5    |
</span></span><span style=display:flex><span>|    20.5.0    |   18.14.1    |    0.12.6    |    0.11.4    |
</span></span><span style=display:flex><span>|    20.4.0    |   18.14.0    |    0.12.5    |    0.11.3    |
</span></span><span style=display:flex><span>|    20.3.1    |   18.13.0    |    0.12.4    |    0.11.2    |
</span></span><span style=display:flex><span>|    20.3.0    |   18.12.1    |    0.12.3    |    0.11.1    |
</span></span><span style=display:flex><span>|    20.2.0    |   18.12.0    |    0.12.2    |    0.11.0    |
</span></span><span style=display:flex><span>|    20.1.0    |   16.20.2    |    0.12.1    |    0.9.12    |
</span></span><span style=display:flex><span>|    20.0.0    |   16.20.1    |    0.12.0    |    0.9.11    |
</span></span><span style=display:flex><span>|    19.9.0    |   16.20.0    |   0.10.48    |    0.9.10    |
</span></span></code></pre></div></li><li>選擇一個版本安裝<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ nvm install 20.10.0
</span></span><span style=display:flex><span>Downloading node.js version 20.10.0 <span style=color:#f92672>(</span>64-bit<span style=color:#f92672>)</span>...
</span></span><span style=display:flex><span>Extracting node and npm...
</span></span><span style=display:flex><span>Complete
</span></span><span style=display:flex><span>npm v10.2.3 installed successfully.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Installation complete. If you want to use this version, type
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>nvm use 20.10.0
</span></span></code></pre></div></li><li>選擇已安裝的版本<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ nvm use 20.10.0
</span></span><span style=display:flex><span>Now using node v20.10.0 <span style=color:#f92672>(</span>64-bit<span style=color:#f92672>)</span>
</span></span></code></pre></div></li><li>接著就可以只用npm / node安裝專案需要的package<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ cd <span style=color:#e6db74>&#34;Double Injection\app&#34;</span>
</span></span><span style=display:flex><span>$ ls
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    目錄: D:<span style=color:#ae81ff>\D</span>ouble Injection<span style=color:#ae81ff>\a</span>pp
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Mode                 LastWriteTime         Length Name
</span></span><span style=display:flex><span>----                 -------------         ------ ----
</span></span><span style=display:flex><span>-a----      2023/12/18  下午 05:52           <span style=color:#ae81ff>1786</span> app.js
</span></span><span style=display:flex><span>-a----      2023/12/29  上午 01:19           <span style=color:#ae81ff>1160</span> exp.py
</span></span><span style=display:flex><span>-a----      2023/12/18  下午 10:16             <span style=color:#ae81ff>13</span> flag.json
</span></span><span style=display:flex><span>-a----      2023/12/18  下午 05:26            <span style=color:#ae81ff>470</span> init-db.js
</span></span><span style=display:flex><span>-a----      2023/12/18  上午 06:16            <span style=color:#ae81ff>110</span> package.json
</span></span><span style=display:flex><span>$ npm install <span style=color:#75715e># 安裝所有package.json中的library</span>
</span></span></code></pre></div></li></ol></li><li>WSL / Linux
同樣的操作需要再做一次，詳細可以看<a href=https://learn.microsoft.com/zh-tw/windows/dev-environment/javascript/nodejs-on-wsl>MSDN - 在 Windows 子系統 Linux 版 (WSL2) 上安裝 Node.js</a><ol><li>Install nvm<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ sudo apt-get install curl
</span></span><span style=display:flex><span>$ curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/master/install.sh | bash
</span></span><span style=display:flex><span>$ nvm --version
</span></span><span style=display:flex><span>0.39.7
</span></span></code></pre></div></li><li>Check Current Available Version<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ nvm ls
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>-&gt;       system
</span></span><span style=display:flex><span>iojs -&gt; N/A <span style=color:#f92672>(</span>default<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>node -&gt; stable <span style=color:#f92672>(</span>-&gt; N/A<span style=color:#f92672>)</span> <span style=color:#f92672>(</span>default<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>unstable -&gt; N/A <span style=color:#f92672>(</span>default<span style=color:#f92672>)</span>
</span></span></code></pre></div></li><li>Install Long Term Support<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ nvm install --lts
</span></span><span style=display:flex><span>Installing latest LTS version.
</span></span><span style=display:flex><span>Downloading and installing node v20.10.0...
</span></span><span style=display:flex><span>Downloading https://nodejs.org/dist/v20.10.0/node-v20.10.0-linux-x64.tar.xz...
</span></span><span style=display:flex><span><span style=color:#75715e>############################################################################################################ 100.0%</span>
</span></span><span style=display:flex><span>Computing checksum with sha256sum
</span></span><span style=display:flex><span>Checksums matched!
</span></span><span style=display:flex><span>Now using node v20.10.0
</span></span><span style=display:flex><span>Creating default alias: default -&gt; lts/* <span style=color:#f92672>(</span>-&gt; v20.10.0<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>$ nvm ls
</span></span><span style=display:flex><span>-&gt;     v20.10.0
</span></span><span style=display:flex><span>         system
</span></span><span style=display:flex><span>default -&gt; lts/* <span style=color:#f92672>(</span>-&gt; v20.10.0<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>iojs -&gt; N/A <span style=color:#f92672>(</span>default<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>unstable -&gt; N/A <span style=color:#f92672>(</span>default<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>node -&gt; stable <span style=color:#f92672>(</span>-&gt; v20.10.0<span style=color:#f92672>)</span> <span style=color:#f92672>(</span>default<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>stable -&gt; 20.10 <span style=color:#f92672>(</span>-&gt; v20.10.0<span style=color:#f92672>)</span> <span style=color:#f92672>(</span>default<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>lts/* -&gt; lts/iron <span style=color:#f92672>(</span>-&gt; v20.10.0<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>lts/argon -&gt; v4.9.1 <span style=color:#f92672>(</span>-&gt; N/A<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>lts/boron -&gt; v6.17.1 <span style=color:#f92672>(</span>-&gt; N/A<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>lts/carbon -&gt; v8.17.0 <span style=color:#f92672>(</span>-&gt; N/A<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>lts/dubnium -&gt; v10.24.1 <span style=color:#f92672>(</span>-&gt; N/A<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>lts/erbium -&gt; v12.22.12 <span style=color:#f92672>(</span>-&gt; N/A<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>lts/fermium -&gt; v14.21.3 <span style=color:#f92672>(</span>-&gt; N/A<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>lts/gallium -&gt; v16.20.2 <span style=color:#f92672>(</span>-&gt; N/A<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>lts/hydrogen -&gt; v18.19.0 <span style=color:#f92672>(</span>-&gt; N/A<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>lts/iron -&gt; v20.10.0
</span></span></code></pre></div></li><li>Check npm / node Version<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ npm --version
</span></span><span style=display:flex><span>10.2.3
</span></span><span style=display:flex><span>$ node --version
</span></span><span style=display:flex><span>v20.10.0
</span></span></code></pre></div></li><li>安裝Module(一樣是在有package.json的目錄下)<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ npm install
</span></span></code></pre></div></li></ol></li></ul><h2 id=debug-by-vscode>Debug By VScode
<a class=anchor href=#debug-by-vscode>#</a></h2><p>詳細可以看<a href=https://learn.microsoft.com/zh-tw/training/modules/debug-nodejs/5-analyze-your-program-state>MSDN的教學</a>
:::info
在debug的過程中，有可能會因為是linux based的路徑，所以造成錯誤，所以最好還是在wsl中用<code>code .</code>的方式進入VScode，再進行debug，另外提醒，在linux or windows下npm install所載的package會根據OS不一樣而有差異，所以要搞清楚目前的平台是哪一個再進行debug；再另外，因為大部分的題目都是具備docker，所以在build之前要先確定有沒有都完成原本docker幫忙的事情，例如以下script:</p><a href=/problem-solutions/how-to-use-vscode-_-web-storm-debug-js_/>...</a></p></article><article class="markdown book-post"><h2><a href=/problem-solutions/how-to-use-zap_burp-suite_mitmproxy-as-proxy-for-android_/>How to use ZAP/Burp Suite/mitmproxy as Proxy for Android?</a></h2><div class=text-small><a href=/tags/problem-solution/>Problem Solution</a></div><p><h1 id=how-to-use-zap-as-proxy>How to use ZAP as Proxy?
<a class=anchor href=#how-to-use-zap-as-proxy>#</a></h1><ul><li><p>根據<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>我大概知道怎麼使用，我們通常會使用zap的command line形式進行操作，詳細的參數可以參考<a href=https://www.zaproxy.org/docs/desktop/cmdline/>Official Document</a>，另外我看ZAP如果要當作Proxy的角色會需要用到ROOT CA憑證，所以如果單純用之前的教學文章會不知到在哪裡產生憑證，他已經移動到Network底下了
![image](<a href=https://hackmd.io/_uploads/B11DaMnpT.png>https://hackmd.io/_uploads/B11DaMnpT.png</a> =400x)</p></li><li><p>目前我把Proxy架好了，看的是<a href=https://hackmd.io/@ZLgd0D1pQcyasZhkkWKG4g/HyFZFPDQu>這篇教學文章-OWASP ZAP操作手冊</a>，講的非常詳細</p><ol><li>在Firefox中搜尋憑證或是cert，直接安裝在ZAP產生的憑證檔案</li><li>在Firefox的setting中搜尋Proxy
![圖片](<a href=https://hackmd.io/_uploads/HJ4NI5Aap.png>https://hackmd.io/_uploads/HJ4NI5Aap.png</a> =400x)</li><li>設定成如下
![圖片](<a href=https://hackmd.io/_uploads/HJoGB9CTa.png>https://hackmd.io/_uploads/HJoGB9CTa.png</a> =400x)
只要ZAP有打開，就可以連線出去，但如果Proxy已經setup，卻沒有打開ZAP會通不到外面喔</li></ol></li></ul><h2 id=補充>補充
<a class=anchor href=#%e8%a3%9c%e5%85%85>#</a></h2><ol><li>如果上述的步驟已經執行完但Proxy只能攔截到GET Method的封包，就代表憑證爛掉了，和在手機上一樣，但手機會出現這個問題還有可能是SSL Pinning，網頁端只需要重新安裝ZAP Generate的新憑證就好</li><li>如果設定Firefox的Proxy時，是設定成<code>使用系統Proxy設定</code>，那就要在電腦的設定中，更改Proxy的config
![圖片](<a href=https://hackmd.io/_uploads/HJ6STMP1R.png>https://hackmd.io/_uploads/HJ6STMP1R.png</a> =400x)
這樣的話ZAP也可以正常運作，但是就不會出現ZAP特定的畫面(功能)
![圖片](<a href=https://hackmd.io/_uploads/ByAxAfPyA.png>https://hackmd.io/_uploads/ByAxAfPyA.png</a> =400x)
只有設定成<code>手動設定Proxy</code>才會出現，否則會變成連線不上的畫面
<img src=https://hackmd.io/_uploads/B1vHRzPJ0.png alt=圖片></li></ol><h1 id=how-to-use-burp-suite-as-proxy>How to use Burp Suite as Proxy?
<a class=anchor href=#how-to-use-burp-suite-as-proxy>#</a></h1><p>這個完全是翻譯並且按照<a href="https://youtu.be/xp8ufidc514?si=4y0JhxW0kbnO1HjF"> Intercepting Android App Traffic with BurpSuite </a>的影片教學</p><h2 id=prepare>Prepare
<a class=anchor href=#prepare>#</a></h2><h3 id=有取得root實機的情況下>(有取得Root實機的情況下)
<a class=anchor href=#%e6%9c%89%e5%8f%96%e5%be%97root%e5%af%a6%e6%a9%9f%e7%9a%84%e6%83%85%e6%b3%81%e4%b8%8b>#</a></h3><p>如果要保險一點零失敗的達成目標，按照影片的步驟和環境比較好，如果是已經有一台取得Root的實機，就可以忽略用VMware開的Emulator</p><ul><li>取得Burp Suite Cert(在開啟Burp Suite的前提下)
有關於DER和PEM的背景知識可以參考<a href=https://medium.com/chouhsiang/%e8%83%8c%e6%99%af%e7%9f%a5%e8%ad%98-pem-%e8%88%87-der-dad659e0a40d>[背景知識] 憑證的格式 PEM 與 DER | 自然人憑證開發筆記</a><pre tabindex=0><code class=language-bash! data-lang=bash!>$ curl localhost:8080/cert -o cert.der

# 這一段是強制把der檔案轉換成pem檔案
$ openssl x509 -inform der -in cert.der -out cert.pem
</code></pre></li><li>丟到手機端後直接在手機安裝憑證</li><li>接著就要參考<a href=https://hackmd.io/nAJIgt13TjSZ5nqLR4-BiQ#Install-AlwaysTrustUserCertzip-Module>How to Root Android Phone & Install AlwaysTrustUserCert.zip Module?</a>這篇文章下面註解的地方重新安裝AlwaysTrustUserCert.zip這個plugin，最保險的做法是
先把之前所有安裝的憑證刪除→
重新啟動→
重新安裝"所有"的憑證→
重新安裝Magisk模組→
Reboot
接著就直接跳到下一段(實際攔截前)</li></ul><h3 id=利用vmware開emulator>(利用VMware開Emulator)
<a class=anchor href=#%e5%88%a9%e7%94%a8vmware%e9%96%8bemulator>#</a></h3><ul><li>VMware 記得啟動 Virtualization</li><li>安裝Genymotion, virtualbox, adb
安裝前先到Genymotion官網註冊帳號<pre tabindex=0><code class=language-bash! data-lang=bash!>$ wget https://dl.genymotion.com/releases/genymotion-3.6.0/genymotion-3.6.0-linux_x64.bin
$ chmod +x genymotion-3.6.0-linux_x64.bin
$ ./genymotion-3.6.0-linux_x64.bin
$ sudo apt install virtualbox adb -y
$ cd genymotion
$ ./genymotion # login to genymotion
</code></pre></li><li>選擇Emulator的手機型號就可以開啟一個全新的Emulator</li><li>取得Burp Suite Cert(在開啟Burp Suite的前提下)
有關於DER和PEM的背景知識可以參考<a href=https://medium.com/chouhsiang/%e8%83%8c%e6%99%af%e7%9f%a5%e8%ad%98-pem-%e8%88%87-der-dad659e0a40d>[背景知識] 憑證的格式 PEM 與 DER | 自然人憑證開發筆記</a><pre tabindex=0><code class=language-bash! data-lang=bash!>$ curl localhost:8080/cert -o cert.der

# 這一段是強制把der檔案轉換成pem檔案
$ openssl x509 -inform der -in cert.der -out cert.pem

# 這一段是顯示cert.pem這個檔案Subject的MD5 Hash Value，至於他怎麼做hash的，可以參考https://github.com/spacemonkeygo/openssl/issues/112#issuecomment-443313713，他解釋該hash的標的為哪些，並不是針對這整個file做hash
$ openssl x509 -inform PEM -subject_hash_old -in cert.pem
9a5ba575
-----BEGIN CERTIFICATE-----
MIIDpzCCAo+gAwIBAgIEdz+xgjANBgkqhkiG9w0BAQsFADCBijEUMBIGA1UEBhML
UG9ydFN3aWdnZXIxFDASBgNVBAgTC1BvcnRTd2lnZ2VyMRQwEgYDVQQHEwtQb3J0
U3dpZ2dlcjEUMBIGA1UEChMLUG9ydFN3aWdnZXIxFzAVBgNVBAsTDlBvcnRTd2ln
Z2VyIENBMRcwFQYDVQQDEw5Qb3J0U3dpZ2dlciBDQTAeFw0xNDA4MjgxMzUxMzda
Fw0zMzA4MjgxMzUxMzdaMIGKMRQwEgYDVQQGEwtQb3J0U3dpZ2dlcjEUMBIGA1UE
CBMLUG9ydFN3aWdnZXIxFDASBgNVBAcTC1BvcnRTd2lnZ2VyMRQwEgYDVQQKEwtQ
b3J0U3dpZ2dlcjEXMBUGA1UECxMOUG9ydFN3aWdnZXIgQ0ExFzAVBgNVBAMTDlBv
cnRTd2lnZ2VyIENBMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwCM2
OEX9sby5W3ck1djqnohtIpNKIkBWw0qvwDfi17Hvyc0YIUPzQE+6o/a1KRgCS6Ni
2SgcJ/soKcRkMn5nmI5Mh+6w0NGEd13VmIcSkd97RghpeNivd5u0LOHW4KVYmxh9
0pDlt+6DD2zQIShM0hxUTGpaaPaRk9S9z0kWHNyJ9cfy627IWDSl1oNrQvNYTWU4
DhjBa0AOQUjCrTqkCALwCEAErZRGgjeonkola117DFG8twdjdA+55Iegw2Bd8ogd
JafibIUutXwGFiaAxx/ckapkqUKFnjBbXwyfoFmeiuiHqB3oy8Y8tduSh1e9lJNq
bMWW+UDG/4H5kXNOgwIDAQABoxMwETAPBgNVHRMBAf8EBTADAQH/MA0GCSqGSIb3
DQEBCwUAA4IBAQAn4BB23JUP0EThzsQY/299zJW0Z1AquMwYRYtWhhno+OoQ8gHu
zKNQHdV2RHr/Ns4z7tP7aNyWiCgSmmOwJ/0l7pY74NjxbZPdqVnHMy5Vg6ehggOH
ShKk6N561W4856G2AaiOqtY1a84wj1l5GtAtSbfVJtu3SdOvdiR2oD8C8IWx71VN
EGjEuIkbWdyysVQkhXkn1GAl8E3CRPqDrqJL4HA9CSAPEvvhbpUvJ/j+dqp+bH68
kPBVOVVKdzUBbngYeRpSwGm2WlbZ8RiWoeodsixPKiK2tSqtGG+D1H/bOKH/aq8x
PVGwpBZqfagUIDw+E1x1zmbtUkpY5nHCAcEo
-----END CERTIFICATE-----

# 複製cert.pem並改名成9a5ba575.0，會改成這樣是因為手機當中儲存憑證的方式就是這樣
$ cp cert.pem 9a5ba575.0

# 這一段是print出9a5ba575.0的subject，也就是上面做hash的標的就是下面這一串東西，所以只要是PortSwigger的憑證，只要他們沒有改subject，基本上做hash得到的結果都會是9a5ba575
$ openssl x509 -inform PEM -subject -in 9a5ba575.0
subject=C = PortSwigger, ST = PortSwigger, L = PortSwigger, O = PortSwigger, OU = PortSwigger CA, CN = PortSwigger CA
</code></pre></li><li>丟到手機端中儲存憑證的絕對位址
如果直接用adb push到該位置，會發現錯誤，原因是該位置是read only的狀態，所以我們要進到su進到root權限改變read only的狀態，再把東西丟進去就完成安裝了<pre tabindex=0><code class=language-bash! data-lang=bash!>$ adb shell
# su
# mount -o remount,rw /
# exit
# exit
$ adb push 9a5ba575.0 /system/etc/security/cacerts/
</code></pre></li></ul><h2 id=實際攔截前>實際攔截前
<a class=anchor href=#%e5%af%a6%e9%9a%9b%e6%94%94%e6%88%aa%e5%89%8d>#</a></h2><ol><li>打開的Burp Suite一定要把Bind to address改成All interfaces
![圖片](<a href=https://hackmd.io/_uploads/B1HBnVVPR.png>https://hackmd.io/_uploads/B1HBnVVPR.png</a> =400x)</li><li>設定手機端的網路Proxy
這一部分就跟ZAP當初設定的時候一模一樣，當然也是可以像教學影片那樣用CLI的方式處理<pre tabindex=0><code class=language-bash! data-lang=bash!>$ adb shell settings put global http_proxy &lt;proxy server ip&gt;:8080 # set phone proxy
$ adb shell settings put global http_proxy :0 # unset phone proxy
</code></pre></li><li>接下來就可以實際攔截了</li></ol><h2 id=bypass-ssl-pinning-by-frida>Bypass SSL Pinning by Frida
<a class=anchor href=#bypass-ssl-pinning-by-frida>#</a></h2><p>還記得之前做的實驗<a href=https://hackmd.io/@SBK6401/r155hduCT#%e7%84%a1%e6%b3%95%e4%bd%bf%e7%94%a8>論文筆記</a>中有提到，有一部分的app就算安裝了SSL Unpinning的Plugin還是無法攔截到流量，根據<a href=https://httptoolkit.com/blog/frida-certificate-pinning/>Defeating Android Certificate Pinning with Frida</a>文章的說明，Facebook各式各樣的App所使用的憑證標準和實作方式都是自定義的，而不是用標準API，這樣的話用一般的SSL Unpinning就還是不會成功</p><a href=/problem-solutions/how-to-use-zap_burp-suite_mitmproxy-as-proxy-for-android_/>...</a></p></article><article class="markdown book-post"><h2><a href=/problem-solutions/mitmproxy%E7%9B%B8%E9%97%9C%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/>MITMProxy相關問題整理</a></h2><div class=text-small><a href=/tags/problem-solution/>Problem Solution</a></div><p><h1 id=mitmproxy相關問題整理>MITMProxy相關問題整理
<a class=anchor href=#mitmproxy%e7%9b%b8%e9%97%9c%e5%95%8f%e9%a1%8c%e6%95%b4%e7%90%86>#</a></h1><p>資料來源: <a href=https://github.com/mitmproxy/mitmproxy/issues/5442>https://github.com/mitmproxy/mitmproxy/issues/5442</a></p><h2 id=server-tls-handshake-failed-the-remote-server-does-not-speak-tls>Server TLS handshake failed. The remote server does not speak TLS.
<a class=anchor href=#server-tls-handshake-failed-the-remote-server-does-not-speak-tls>#</a></h2><p>代表連線的標的無法處理https的scheme，如果確定連線的目標是開在localhost或是一定是http scheme的話，可以利用script去hook流量把https改掉</p><pre tabindex=0><code class=language-python! data-lang=python!>from mitmproxy import http

def request(flow: http.HTTPFlow) -&gt; None:
    # 檢查請求是否是 HTTPS
    if flow.request.scheme == &#34;https&#34;:
        # 將 URL 中的 HTTPS 替換為 HTTP
        flow.request.url = flow.request.url.replace(&#39;https://&#39;, &#39;http://&#39;)
</code></pre><h2 id=unable-to-establish-tls-connection-with-server-the-remote-server-does-not-speak-tls-trying-to-establish-tls-with-client-anyway-if-you-plan-to-redirect-requests-away-from-this-server-consider-setting-connection_strategy-to-lazy-to-suppress-early-connections>Unable to establish TLS connection with server (The remote server does not speak TLS.). Trying to establish TLS with client anyway. If you plan to redirect requests away from this server, consider setting <code>connection_strategy</code> to <code>lazy</code> to suppress early connections.
<a class=anchor href=#unable-to-establish-tls-connection-with-server-the-remote-server-does-not-speak-tls-trying-to-establish-tls-with-client-anyway-if-you-plan-to-redirect-requests-away-from-this-server-consider-setting-connection_strategy-to-lazy-to-suppress-early-connections>#</a></h2><p>出現這個warning，</p><a href=/problem-solutions/mitmproxy%E7%9B%B8%E9%97%9C%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/>...</a></p></article><article class="markdown book-post"><h2><a href=/problem-solutions/problems-about-multiprocess/>Problems About Multiprocess</a></h2><div class=text-small><a href=/tags/problem-solution/>Problem Solution</a></div><p><h1 id=problems-about-multiprocess>Problems About Multiprocess
<a class=anchor href=#problems-about-multiprocess>#</a></h1><p><a href=https://blog.csdn.net/LutingWang/article/details/124203032>徹底解出TypeError: cannot pickle &lsquo;_thread.RLock&rsquo; object，以PyTorch DDP 為例 </a><a href=https://blog.csdn.net/jbluxun/article/details/134167082>TypeError: cannot pickle &lsquo;_thread.lock&rsquo; object的一個淺層解決方法</a>
<a href=https://blog.csdn.net/nangua06/article/details/129668222>ForkingPickler can&rsquo;t pickle weakref objects</a></p></p></article><ul class="pagination pagination-default"><li class=page-item><a href=/tags/problem-solution/ aria-label=First class=page-link role=button><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/tags/problem-solution/ aria-label=Previous class=page-link role=button><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a href=/tags/problem-solution/ aria-label="Page 1" class=page-link role=button>1</a></li><li class="page-item active"><a aria-current=page aria-label="Page 2" class=page-link role=button>2</a></li><li class=page-item><a href=/tags/problem-solution/page/3/ aria-label="Page 3" class=page-link role=button>3</a></li><li class=page-item><a href=/tags/problem-solution/page/3/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/tags/problem-solution/page/3/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a></li></ul><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav><ul><li class=book-section-flat><strong>Categories</strong><ul></ul></li><li class=book-section-flat><strong>Tags</strong><ul><li class="flex justify-between"><a href=/tags/ad/>AD</a>
<span>25</span></li><li class="flex justify-between"><a href=/tags/adworld/>Adworld</a>
<span>6</span></li><li class="flex justify-between"><a href=/tags/aegis/>AEGIS</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/ai/>AI</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/ais3/>AIS3</a>
<span>4</span></li><li class="flex justify-between"><a href=/tags/android/>Android</a>
<span>11</span></li><li class="flex justify-between"><a href=/tags/balsnctf/>BalsnCTF</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/book/>Book</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/btlo/>BTLO</a>
<span>8</span></li><li class="flex justify-between"><a href=/tags/cggc/>CGGC</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/chatgpt/>ChatGPT</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/crewctf/>CrewCTF</a>
<span>6</span></li><li class="flex justify-between"><a href=/tags/crypto/>Crypto</a>
<span>36</span></li><li class="flex justify-between"><a href=/tags/cryptography/>Cryptography</a>
<span>7</span></li><li class="flex justify-between"><a href=/tags/csc/>CSC</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/ctf/>CTF</a>
<span>267</span></li><li class="flex justify-between"><a href=/tags/cyberdefender/>CyberDefender</a>
<span>23</span></li><li class="flex justify-between"><a href=/tags/data-structure/>Data Structure</a>
<span>6</span></li><li class="flex justify-between"><a href=/tags/deadfacectf/>DeadFaceCTF</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/digital-forensics/>Digital Forensics</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/drozer/>Drozer</a>
<span>10</span></li><li class="flex justify-between"><a href=/tags/easy/>Easy</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/eductf/>Eductf</a>
<span>85</span></li><li class="flex justify-between"><a href=/tags/endpoint-forensics/>Endpoint Forensics</a>
<span>16</span></li><li class="flex justify-between"><a href=/tags/english-writing/>English Writing</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/forensics/>Forensics</a>
<span>8</span></li><li class="flex justify-between"><a href=/tags/general-skill/>General Skill</a>
<span>4</span></li><li class="flex justify-between"><a href=/tags/hackthebox/>Hackthebox</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/incident-response/>Incident Response</a>
<span>5</span></li><li class="flex justify-between"><a href=/tags/information-security/>Information Security</a>
<span>25</span></li><li class="flex justify-between"><a href=/tags/interview/>Interview</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/latex/>LaTeX</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/leetcode/>LeetCode</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/machine-learning/>Machine Learning</a>
<span>5</span></li><li class="flex justify-between"><a href=/tags/malware-reverse-engineering-and-analysis/>Malware Reverse Engineering and Analysis</a>
<span>7</span></li><li class="flex justify-between"><a href=/tags/meeting-paper/>Meeting Paper</a>
<span>20</span></li><li class="flex justify-between"><a href=/tags/misc/>Misc</a>
<span>44</span></li><li class="flex justify-between"><a href=/tags/mobsf/>MobSF</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/network-forensics/>Network Forensics</a>
<span>4</span></li><li class="flex justify-between"><a href=/tags/nisra/>NISRA</a>
<span>8</span></li><li class="flex justify-between"><a href=/tags/ntu/>NTU</a>
<span>67</span></li><li class="flex justify-between"><a href=/tags/ntu_ct/>NTU_CT</a>
<span>6</span></li><li class="flex justify-between"><a href=/tags/ntu_ml/>NTU_ML</a>
<span>5</span></li><li class="flex justify-between"><a href=/tags/ntu_mr/>NTU_MR</a>
<span>7</span></li><li class="flex justify-between"><a href=/tags/ntu_os/>NTU_OS</a>
<span>4</span></li><li class="flex justify-between"><a href=/tags/ntu_padns/>NTU_PADNS</a>
<span>8</span></li><li class="flex justify-between"><a href=/tags/ntu_st/>NTU_ST</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/ntucns/>NTUCNS</a>
<span>11</span></li><li class="flex justify-between"><a href=/tags/ntust/>NTUST</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/ntustisc/>NTUSTISC</a>
<span>32</span></li><li class="flex justify-between"><a href=/tags/ntustws/>NTUSTWS</a>
<span>29</span></li><li class="flex justify-between"><a href=/tags/nycu/>NYCU</a>
<span>6</span></li><li class="flex justify-between"><a href=/tags/picoctf/>PicoCTF</a>
<span>112</span></li><li class="flex justify-between"><a href=/tags/portswigger-web-security-academy/>Portswigger Web Security Academy</a>
<span>29</span></li><li class="flex justify-between"><a href=/tags/problem-solution/>Problem Solution</a>
<span>28</span></li><li class="flex justify-between"><a href=/tags/pwn/>PWN</a>
<span>57</span></li><li class="flex justify-between"><a href=/tags/reverse/>Reverse</a>
<span>46</span></li><li class="flex justify-between"><a href=/tags/security-operation/>Security Operation</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/side-project/>Side Project</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/software-testing/>Software Testing</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/special-topic/>Special Topic</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/taiwanholyhigh/>TaiwanHolyHigh</a>
<span>9</span></li><li class="flex justify-between"><a href=/tags/tcivs/>TCIVS</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/threat-intel/>Threat Intel</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/tools/>Tools</a>
<span>19</span></li><li class="flex justify-between"><a href=/tags/tscctf/>TSCCTF</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/web/>Web</a>
<span>93</span></li><li class="flex justify-between"><a href=/tags/welcome/>Welcome</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/windows/>Windows</a>
<span>7</span></li><li class="flex justify-between"><a href=/tags/%E5%90%8D%E8%A9%9E%E8%A7%A3%E9%87%8B/>名詞解釋</a>
<span>10</span></li><li class="flex justify-between"><a href=/tags/%E8%AE%80%E6%9B%B8%E5%BF%83%E5%BE%97/>讀書心得</a>
<span>2</span></li></ul></li></ul></nav></div></aside></main></body></html>