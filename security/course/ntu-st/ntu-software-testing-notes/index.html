<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="
  NTU Software Testing Notes
  #


  tags: NTU_ST Software Testing
  #

All content in this presentation is refer to Pro. Farn Wang Website
:::spoiler Click to open TOC
[TOC]
:::

  2.5 Graph Coverage for Specifications
  #


  Design Spec.
  #


What is design specification?

描述軟體應該有的行為(可見或不可見都有可能)


What is different between requirement and specification

requirement: 顧客端 / specification: 技術端


Sequence就是一連串的行為和狀態->script
Testing就是在看script有發生該發生的事情
Two types of description are used in this chapter

Sequencing constraints
State behavior




  Sequencing constraints
  #


Constraint有可能是document的一些潛規則或是method上順序的限制，e.g. stack data structure在沒有push前不能pop
Queue Example: precondiction就是這個例子的sequence constraint

File ADT Example

ADT: Abstract Data Type其實就是早期的class
sequence constraint about example


寫之前要先打開file
關閉之前要先打開file
在close file之後除非再open file，不然不可以write file
close file前一定要write file，不然就浪費這個procedure




Static Checking: 先不跑test input，先針對畫出來的graph做checking"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://bernie6401.github.io/security/course/ntu-st/ntu-software-testing-notes/"><meta property="og:site_name" content="SBK Hugo Site"><meta property="og:title" content="NTU Software Testing Notes"><meta property="og:description" content="NTU Software Testing Notes # tags: NTU_ST Software Testing # All content in this presentation is refer to Pro. Farn Wang Website
:::spoiler Click to open TOC [TOC] :::
2.5 Graph Coverage for Specifications # Design Spec. # What is design specification? 描述軟體應該有的行為(可見或不可見都有可能) What is different between requirement and specification requirement: 顧客端 / specification: 技術端 Sequence就是一連串的行為和狀態->script Testing就是在看script有發生該發生的事情 Two types of description are used in this chapter Sequencing constraints State behavior Sequencing constraints # Constraint有可能是document的一些潛規則或是method上順序的限制，e.g. stack data structure在沒有push前不能pop Queue Example: precondiction就是這個例子的sequence constraint File ADT Example ADT: Abstract Data Type其實就是早期的class sequence constraint about example 寫之前要先打開file 關閉之前要先打開file 在close file之後除非再open file，不然不可以write file close file前一定要write file，不然就浪費這個procedure Static Checking: 先不跑test input，先針對畫出來的graph做checking"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="security"><meta property="article:tag" content="NTU_ST"><meta property="article:tag" content="Software Testing"><meta property="article:tag" content="NTU"><title>NTU Software Testing Notes | SBK Hugo Site</title>
<link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=https://bernie6401.github.io/security/course/ntu-st/ntu-software-testing-notes/><link rel=stylesheet href=/book.min.6c8b9d2a1fc95075ed7da46ca81060b39add8fff6741ac51259f768929281e2c.css integrity="sha256-bIudKh/JUHXtfaRsqBBgs5rdj/9nQaxRJZ92iSkoHiw=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.acdc41c8d39e6c69d70d8a23779875e0a3733fefead3e428d5344966bb12f562.js integrity="sha256-rNxByNOebGnXDYojd5h14KNzP+/q0+Qo1TRJZrsS9WI=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>SBK Hugo Site</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>NTU Software Testing Notes</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li></li></ul></li></ul><ul><li><a href=#design-spec>Design Spec.</a></li><li><a href=#sequencing-constraints>Sequencing constraints</a></li><li><a href=#state-behavior>State behavior</a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=ntu-software-testing-notes>NTU Software Testing Notes
<a class=anchor href=#ntu-software-testing-notes>#</a></h1><h6 id=tags-ntu_st-software-testing>tags: <code>NTU_ST</code> <code>Software Testing</code>
<a class=anchor href=#tags-ntu_st-software-testing>#</a></h6><p><strong>All content in this presentation is refer to <a href=http://cc.ee.ntu.edu.tw/~farn/courses/ST/2021.Spring/>Pro. Farn Wang Website</a></strong></p><p>:::spoiler Click to open TOC
[TOC]
:::</p><h1 id=25-graph-coverage-for-specifications>2.5 Graph Coverage for Specifications
<a class=anchor href=#25-graph-coverage-for-specifications>#</a></h1><h2 id=design-spec>Design Spec.
<a class=anchor href=#design-spec>#</a></h2><ul><li>What is design specification?<ul><li>描述軟體應該有的行為(可見或不可見都有可能)</li></ul></li><li>What is different between requirement and specification<ul><li>requirement: 顧客端 / specification: 技術端</li></ul></li><li>Sequence就是一連串的行為和狀態->script</li><li>Testing就是在看script有發生該發生的事情</li><li>Two types of description are used in this chapter<ul><li><strong>Sequencing constraints</strong></li><li><strong>State behavior</strong></li></ul></li></ul><h2 id=sequencing-constraints>Sequencing constraints
<a class=anchor href=#sequencing-constraints>#</a></h2><ul><li>Constraint有可能是document的一些潛規則或是method上順序的限制，e.g. stack data structure在沒有push前不能pop</li><li>Queue Example: precondiction就是這個例子的sequence constraint
<img src=https://i.imgur.com/3RaZRfK.png alt="Queue Example"></li><li>File ADT Example<ul><li>ADT: Abstract Data Type其實就是早期的class</li><li>sequence constraint about example</li></ul><ol><li>寫之前要先打開file</li><li>關閉之前要先打開file</li><li>在close file之後除非再open file，不然不可以write file</li><li>close file前一定要write file，不然就浪費這個procedure
<img src=https://imgur.com/1NYVCj1.png alt="File ADT Example"></li></ol><ul><li><p>Static Checking: 先不跑test input，先針對畫出來的graph做checking</p></li><li><p>[1, 3, 4, 6]就是這個instance的open到close之間沒有任何的write procedure</p></li><li><p>Edge[1, 3]和Edge[3, 4]可能有共同變數在控制file的read、write，讓file不會經過Edge-Pair[1, 3, 4]->實際上會不會發生還是要看中間的邏輯</p></li><li><p>Testing的目的是要找出所有可能會違反test constraint或其他條件使software不正常運作</p></li><li><p>Test Requirements for FileADT</p><ol><li>有write但沒open</li><li>有close但沒open</li><li>close當中再包含write</li><li>close-open中無任何write</li></ol></li><li><p>如果program的設計與邏輯都正確，所有test requirements都<strong>不可執行</strong></p></li></ul></li></ul><h2 id=state-behavior>State behavior
<a class=anchor href=#state-behavior>#</a></h2><ul><li>FSM: finite state machine(有限狀態機)是個用來描述軟體狀態在執行時變換的圖</li><li>FSM不太適合用在狀態很多的program<ul><li><strong>Nodes</strong>: States / <strong>Edges</strong>: Transitions
<img src=https://imgur.com/lrhkWRO.png alt=FSM></li><li>FSM Example
<img src=https://imgur.com/APKr4h7.png alt="FSM Example"><ul><li>上圖是指海上熱帶氣旋和颱風之間的關係</li><li>列在FSM的變數，都是會影響state轉換的variable</li></ul></li><li>Application<ul><li><strong>Embedded</strong> System and control software</li><li><strong>Abstract data types</strong></li><li><strong>Compiler</strong> and operating systems</li><li><strong>Web</strong> application</li></ul></li><li><strong>Language</strong> for describing FSM<ul><li>UML Statecharts: 比較複雜，因為state中還可以再包state</li><li>Automata: 和FSM最相關</li><li>State tables(SCR)</li><li>Petri nets: 和FSM有很多差異</li></ul></li><li>Annotations on FSM
<img src=https://imgur.com/xrKh1rS.png alt="Annotations Example"><ul><li><strong>Precondition</strong>是trigger action的前置條件</li><li>實際<strong>trigger action</strong>的是triggering event</li></ul></li><li>Coverage FSM<ul><li><strong>Node Coverage</strong>:執行每個state</li><li><strong>Edge Coverage</strong>:執行每個transition</li><li><strong>Edge-Pair Coverage</strong>:執行每個transition-pair</li><li><strong>Data flow</strong></li></ul></li><li>How to derive FSM?<ul><li>由一些document可以幫助tester更快的建立FSM，e.g. system requirement, transition table, UML model</li></ul><ol><li><strong>Combining</strong> control flow graphs(CFGs)
<img src=https://imgur.com/Ud9rRZP.png alt="CFGs for example"><ul><li><strong>不是準確描述系統的FSM</strong>，因為CFG只是把流程connect在一起，但沒辦法表現出caller和callee之間的關係</li><li>以CFG而言，可以建立如上圖(分開的狀態)，但是第6, 8, 10都可能呼叫change time method，而return時又要返回6, 8, 10的哪一個呢?相關的資訊並不會被記錄在node中</li></ul></li><li>Using the <strong>software structures</strong>
<img src=https://imgur.com/VQDcv1z.png alt="Software Structure for example"><ul><li>以method當作一個node</li></ul></li><li>Modeling <strong>state variables</strong><ul><li>只要有state variable就有機會可以實踐這個方法</li><li><img src=https://imgur.com/p5b9jWI.png alt="state variable"></li><li><img src=https://imgur.com/4bhzoAn.png alt="relevent state variable"></li><li>因為watch, stopwatch和alarm這三者互相獨立，所以只需要9種狀態</li><li><img src=https://imgur.com/N7KwvGK.png alt="example of watch"></li></ul></li><li>Using implicit or explicit <strong>specifications</strong><ul><li>Explicit requirement</li><li>Using intuition and experience when no explicit requirement</li></ul></li></ol></li><li>Summary-Tradeoffs in Applying Graph Coverage Criteria to FSMs<ul><li><strong>Pros</strong><ul><li>在實作<strong>之前</strong>就可以先設計testing</li><li>分析FSMs比分析source code容易很多</li></ul></li><li><strong>Cons</strong><ul><li>一些實施決策沒有辦法在FSM中建構出模型->複雜的program(有太多的狀態)</li><li>由於推導FSM時會有一些主觀性質，造成結果存在一些差異</li><li>測試必須“映射”到程序的實際輸入，出現在FSM中的名稱可能與程序中的名稱不同</li></ul></li></ul></li></ul></li></ul><h1 id=26-graph-coverage-for-use-cases>2.6 Graph Coverage for Use Cases
<a class=anchor href=#26-graph-coverage-for-use-cases>#</a></h1><ul><li>UML Use Cases: 就是各式的結構、圖形、邏輯等整合在一起，讓學界及業界在開發同一份project可以更無縫的整合，支援的IDE有Visual Studio->由diagram產生C#、Java等template或是反過來也可以</li><li>Pros: 節省開發時間(原本是畫出diagram後還要依照requirement再寫出程式->2倍時間)，且如果implement時發現有東西要修改，大部分的programmer都會直接修改code而忽略修改diagram，到最後design和implementation做的事情就會越來越遠，不利於公司的QA</li><li>Graph in UML - supporting many dagram styles<ul><li>Structure diagram<ul><li>component diagram</li><li>class diagram</li></ul></li><li>Behavior diagram<ul><li>activity diagrams</li><li>use case diagrams</li><li>statecharts</li></ul></li><li>Interaction diagram<ul><li>sequences diagram</li><li>communication diagram</li></ul></li></ul></li><li>Use Case: 系統操作的各種情境，或者說使用案例</li><li>Use Case Example
<img src=https://i.imgur.com/VrJ7QJp.png alt="Use Case Example"><ul><li>人的symbol代表一個role</li><li>橢圓形的內容就是Use Cases</li></ul></li><li>Elaboration: 利用附屬文件產生更詳細的model<ul><li><strong>Use Case Name</strong></li><li><strong>Summary</strong>: 對於project整體的總結</li><li><strong>Actor</strong></li><li><strong>Precondition</strong></li><li><strong>Description</strong>: 正常操作的細節</li><li><strong>Alternatives</strong>: 步驟出現例外情況(catch & exception)</li><li><strong>Postcondition</strong>: 當use case結束之後，應該有的狀態是甚麼</li></ul></li><li>Use Case to Activity Diagrams: activity diagram約等於CFG，就是從user requirement中操作的step
<img src=https://imgur.com/Za78cae.png alt="Activity Graph"></li><li>Covering Activity Graphs<ul><li><strong>Node Coverage</strong></li><li><strong>Edge Coverage</strong></li><li><strong>Scenario Testing</strong></li></ul></li><li>Summary of Use Case Testing<ul><li>Use cases定義在<strong>requirement</strong> level</li><li>Very <strong>high level</strong></li><li>UML <strong>Activity Diagrams</strong>在圖中encode use cases<ul><li>圖通常具有相當<strong>簡單的結構</strong></li></ul></li><li><strong>Requirement-based</strong> testing可以使用graph coverage<ul><li>直接用手做</li><li>Specified path coverage對這些圖有意義</li></ul></li></ul></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li></li></ul></li></ul><ul><li><a href=#design-spec>Design Spec.</a></li><li><a href=#sequencing-constraints>Sequencing constraints</a></li><li><a href=#state-behavior>State behavior</a></li></ul></nav></div></aside></main></body></html>